



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://nus-cs2030.github.io/1718-s2/lab1a/index.html">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.5, mkdocs-material-2.9.2">
    
    
      
        <title>1a. Simulator v1.0 - CS2030 Programming Methodology II</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.ba0fd1a6.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Gentium+Book+Basic">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
    
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#lab-1a" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://nus-cs2030.github.io/1718-s2" title="CS2030 Programming Methodology II" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                CS2030 Programming Methodology II
              </span>
              <span class="md-header-nav__topic">
                1a. Simulator v1.0
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/nus-cs2030/1718-s2/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    CS2030 Programming Methodology II
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/nus-cs2030/1718-s2/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../index.html" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      General
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        General
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../about/index.html" title="About" class="md-nav__link">
      About
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../prereqs/index.html" title="Prerequisites" class="md-nav__link">
      Prerequisites
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../policies/index.html" title="Policies" class="md-nav__link">
      Policies
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../schedule/index.html" title="Schedule" class="md-nav__link">
      Schedule
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../readings/index.html" title="Readings" class="md-nav__link">
      Readings
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../final/index.html" title="Final" class="md-nav__link">
      Final
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../midterm/index.html" title="Midterm" class="md-nav__link">
      Midterm
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7" checked>
    
    <label class="md-nav__link" for="nav-7">
      Labs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Labs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../lab0/index.html" title="0. Warm Up" class="md-nav__link">
      0. Warm Up
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        1a. Simulator v1.0
      </label>
    
    <a href="index.html" title="1a. Simulator v1.0" class="md-nav__link md-nav__link--active">
      1a. Simulator v1.0
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" title="Prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#learning-objectives" title="Learning Objectives" class="md-nav__link">
    Learning Objectives
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup" title="Setup" class="md-nav__link">
    Setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#goals" title="Goals" class="md-nav__link">
    Goals
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#grading" title="Grading" class="md-nav__link">
    Grading
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#discrete-event-simulator" title="Discrete Event Simulator" class="md-nav__link">
    Discrete Event Simulator
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#class-event" title="Class Event" class="md-nav__link">
    Class Event
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class-simulator" title="Class Simulator" class="md-nav__link">
    Class Simulator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interaction-between-simulator-and-event" title="Interaction between Simulator and Event" class="md-nav__link">
    Interaction between Simulator and Event
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#simulated-system" title="Simulated System" class="md-nav__link">
    Simulated System
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#input-and-output" title="Input and Output" class="md-nav__link">
    Input and Output
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#your-task" title="Your Task" class="md-nav__link">
    Your Task
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submission" title="Submission" class="md-nav__link">
    Submission
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extra-java-stuff" title="Extra Java Stuff" class="md-nav__link">
    Extra Java Stuff
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab1b/index.html" title="1b. Simulator v1.1" class="md-nav__link">
      1b. Simulator v1.1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab2a/index.html" title="2a. Simulator v1.2" class="md-nav__link">
      2a. Simulator v1.2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab2b/index.html" title="2b. Simulator v1.3" class="md-nav__link">
      2b. Simulator v1.3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab3/index.html" title="3.  Infinite List" class="md-nav__link">
      3.  Infinite List
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab4a/index.html" title="4a. Simulator v2.0" class="md-nav__link">
      4a. Simulator v2.0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab4b/index.html" title="4b. Simulator v2.1" class="md-nav__link">
      4b. Simulator v2.1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab5/index.html" title="5.  Matrix Multiplication" class="md-nav__link">
      5.  Matrix Multiplication
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab6/index.html" title="6.  Async Web API" class="md-nav__link">
      6.  Async Web API
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Lectures
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Lectures
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../lec01/index.html" title="1. Abstraction & Encapsulation" class="md-nav__link">
      1. Abstraction & Encapsulation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec02/index.html" title="2. Interface, Inheritance & Polymorphism" class="md-nav__link">
      2. Interface, Inheritance & Polymorphism
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec03/index.html" title="3. More on Inheritance" class="md-nav__link">
      3. More on Inheritance
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec04/index.html" title="4. Types, Memory, Exception" class="md-nav__link">
      4. Types, Memory, Exception
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec05/index.html" title="5. Generics and Collections" class="md-nav__link">
      5. Generics and Collections
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec06/index.html" title="6. hashCode, Nested Class, enum" class="md-nav__link">
      6. hashCode, Nested Class, enum
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec07/index.html" title="7. Functions" class="md-nav__link">
      7. Functions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec08/index.html" title="8. Streams" class="md-nav__link">
      8. Streams
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec09/index.html" title="9. FP Patterns" class="md-nav__link">
      9. FP Patterns
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec10/index.html" title="10. Parallel streams" class="md-nav__link">
      10. Parallel streams
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec11/index.html" title="11. Asynchronous" class="md-nav__link">
      11. Asynchronous
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../monad/index.html" title="Extra. Build a Monad" class="md-nav__link">
      Extra. Build a Monad
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../review-questions/index.html" title="Extra. Review Questions" class="md-nav__link">
      Extra. Review Questions
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../style/index.html" title="Coding Style" class="md-nav__link">
      Coding Style
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Software/Tools
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Software/Tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../jdk/index.html" title="Java" class="md-nav__link">
      Java
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../javadoc/index.html" title="Javadoc" class="md-nav__link">
      Javadoc
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../unix/index.html" title="UNIX" class="md-nav__link">
      UNIX
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vim/index.html" title="Vim" class="md-nav__link">
      Vim
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" title="Prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#learning-objectives" title="Learning Objectives" class="md-nav__link">
    Learning Objectives
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup" title="Setup" class="md-nav__link">
    Setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#goals" title="Goals" class="md-nav__link">
    Goals
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#grading" title="Grading" class="md-nav__link">
    Grading
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#discrete-event-simulator" title="Discrete Event Simulator" class="md-nav__link">
    Discrete Event Simulator
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#class-event" title="Class Event" class="md-nav__link">
    Class Event
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class-simulator" title="Class Simulator" class="md-nav__link">
    Class Simulator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interaction-between-simulator-and-event" title="Interaction between Simulator and Event" class="md-nav__link">
    Interaction between Simulator and Event
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#simulated-system" title="Simulated System" class="md-nav__link">
    Simulated System
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#input-and-output" title="Input and Output" class="md-nav__link">
    Input and Output
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#your-task" title="Your Task" class="md-nav__link">
    Your Task
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submission" title="Submission" class="md-nav__link">
    Submission
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extra-java-stuff" title="Extra Java Stuff" class="md-nav__link">
    Extra Java Stuff
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/nus-cs2030/1718-s2/edit/master/docs/lab1a.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="lab-1a">Lab 1a</h1>
<p>Submission deadline: 2359, Friday, February 9, 2018.</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>Assume that students are already familiar with:</p>
<ul>
<li>the <a href="../unix/index.html">CS2030 laboratory environment</a></li>
<li>how to <a href="../jdk/index.html">compile and run Java programs</a></li>
<li>comfortable with Java syntax</li>
<li>looking up Java API documentation</li>
<li>understand the concepts of encapsulation and using encapsulated objects</li>
</ul>
<h2 id="learning-objectives">Learning Objectives</h2>
<p>After completing this lab, students should:</p>
<ul>
<li>be more comfortable with looking at a complex problem and identify data and procedures that should be kept within an abstraction barrier.  In other words, be more comfortable with creating own encapsulated class.</li>
<li>be more comfortable with basic Java syntax and semantics, particularly when creating classes from scratch.</li>
<li>be comfortable with following a given coding convention.</li>
</ul>
<h2 id="setup">Setup</h2>
<p>Login to <code class="codehilite">cs2030-i</code>, copy the files from <code class="codehilite">~cs2030/lab1a</code> to your local directory under your home <code class="codehilite">~/lab1a</code>.  You should see one java file (<code class="codehilite">LabOneA.java</code>) and a few data files (<code class="codehilite">TESTDATA1.txt</code>, <code class="codehilite">TESTDATA2.txt</code>, ..., <code class="codehilite">TESTDATA5.txt</code>)</p>
<h2 id="goals">Goals</h2>
<p><code class="codehilite">LabOneA.java</code> implements a working discrete event simulator that simulates customers being served by a server.  It is written in procedural style with <em>no encapsulation</em>.  The goal, in this lab, is to rewrite this simulator with OO style, by properly using encapsulation to create abstraction barriers to the various variables and methods.  Here and some hints:</p>
<ul>
<li>Think about the problem that you are solving: what are the nouns?  These are good candidates for classes. </li>
<li>For each class, what are the attributes/properties relevant to the class?  These are good candidates for fields in the class.</li>
<li>For each class, what are their responsibilities?  What can they <em>do</em>?  These are good candidates for methods in the class.</li>
<li>How do the objects of each class interact?  These are good candidates for public methods.</li>
</ul>
<p>Note that the goal of this lab and, and of CS2030 in general, is <em>NOT</em> to solve the problem with the cleverest and the shortest piece of code possible.  For instance, you might notice that you can solve Lab 1a with only a few variables and an array.  But such solution is hard to extend and modify.  In CS2030, our goal is to produce a software that can easily evolve and be modified, with a reduced risk of introducing bugs while doing so.</p>
<p>Note that Lab 1a is the first of a series of labs, where we introduce new requirements or modify existing ones in every lab (not <a href="https://accu.org/index.php/journals/319">unlike what software engineers face in the real world</a>).  We will slowly evolve the simulator into something more general and will simulate a more complex server and customer behaviors in our simulation.</p>
<p>Thus, making sure that your code will be able to adapt to new problem statements is the key.  Trying to solve the lab without considering this (such as coming up with a solution that computes the average waiting time in only tens of lines of code) and you will likely find yourself painted into a corner and have to re-write much of your solution to handle the new requirement.</p>
<h2 id="grading">Grading</h2>
<p>This lab is not graded.  But, it will be extended to Lab 1b, which is graded.  Coming out with a good encapsulation will make your Lab 1b much easier to solve. 
You may be tempted to wait for Lab 1b to be released and solve Lab 1a and 1b together -- unless you are very sure you can handle it, do not do this.  The purpose of Lab 1a is to give you enough time to ponder 
over different designs and get feedback from your Lab TAs.</p>
<h2 id="discrete-event-simulator">Discrete Event Simulator</h2>
<p>A discrete event simulator is a software that simulates a system (often modeled after the real world) with events and states.  An event occurs at a particular time, and each event alters the states of the system and may generate more events.  A discrete event simulator can be used to study many complex real-world systems.  The term <em>discrete</em> refers to the fact that, the states remain unchanged between two events, and therefore, the simulator can <em>jump</em> from the time of one event to another, instead of following the clock in real time.  The simulator typically keeps track of some statistics to measure the performance of the system.</p>
<p>In this lab, we start with simulating a specific situation:</p>
<ul>
<li>We have a shop with a <em>server</em> (a person providing service to the customer).</li>
<li>The server can serve one customer at a time.</li>
<li>We assume for now that the server takes constant time to serve a customer.
  The time taken to serve is called <em>service time</em>.</li>
<li>When a customer arrives:<ul>
<li>if the server is idle (not serving any customer), then the server serves the customer immediately (no waiting).</li>
<li>if the server is serving another customer, then the customer that just arrives waits.</li>
<li>if the server is serving one customer, and another customer is waiting, then the customer that just arrives just leave (no waiting) and go elsewhere.  In other words, there is at most one waiting customer.</li>
</ul>
</li>
<li>When the server is done serving a customer:<ul>
<li>the served customer leaves.</li>
<li>if there is another customer waiting, the server starts serving the waiting customer immediately.</li>
<li>if there is no waiting customer, then server becomes idle again.</li>
</ul>
</li>
</ul>
<p>We are interested in the following.  Given a sequence of customer arrivals (time of each arrival is given):</p>
<ul>
<li>What is the average waiting time for customers that have been served?</li>
<li>How many customers are served?</li>
<li>How many customers left without being served?</li>
</ul>
<p>In your Lab 1a, you are given a simple discrete event simulator to answer the questions above.  There are two classes: <code class="codehilite">Simulator</code> and <code class="codehilite">Event</code>.</p>
<h3 id="class-event">Class <code class="codehilite">Event</code></h3>
<p>The event class is written in a procedural style, not unlike a <code class="codehilite">struct</code> in C.  All members are public, and there is no method.  Each <code class="codehilite">Event</code> keeps track of two information: the <code class="codehilite">time</code> the event occurs, and <code class="codehilite">eventType</code>, which signifies what type of events is this.  Instead of using time like 9:45 pm, we simply and represent time as a double value.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>  <span class="kd">static</span> <span class="kd">class</span> <span class="nc">Event</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">double</span> <span class="n">time</span><span class="o">;</span> <span class="c1">// The time this event will occur</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="n">eventType</span><span class="o">;</span> <span class="c1">// The type of event, indicates what should happen when an event occurs. </span>
  <span class="o">}</span>
</pre></div>
</td></tr></table>

<p>We handle two types of events for this particular scenario: an event of type <code class="codehilite">CUSTOMER_ARRIVE</code> means that a customer arrives during this event; while an event of type <code class="codehilite">CUSTOMER_DONE</code> means that the customer is done being served.  <code class="codehilite">CUSTOMER_ARRIVE</code> events are created based on the given input.  <code class="codehilite">CUSTOMER_DONE</code> events are created and scheduled to occur sometime in the future when a customer is being served.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">CUSTOMER_ARRIVE</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">CUSTOMER_DONE</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
</pre></div>
</td></tr></table>

<h3 id="class-simulator">Class <code class="codehilite">Simulator</code></h3>
<p>The simulator class is again written in procedural style.  All members are public, and there is no method.</p>
<p>The <code class="codehilite">Simulator</code> class contains two configuration parameters, <code class="codehilite">MAX_NUMBER_OF_EVENTS</code> indicates the maximum number of events that the simulator can store at one time; <code class="codehilite">SERVICE_TIME</code> indicates the time the server takes to serve a customer.
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">MAX_NUMBER_OF_EVENTS</span> <span class="o">=</span> <span class="mi">100</span><span class="o">;</span> <span class="c1">// Maximum number of events</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">double</span> <span class="n">SERVICE_TIME</span> <span class="o">=</span> <span class="mf">1.0</span><span class="o">;</span> <span class="c1">// Time spent serving a customer</span>
</pre></div>
</td></tr></table></p>
<p>The <code class="codehilite">events</code> is an array of <code class="codehilite">Event</code> that store all events scheduled for the future in the simulator.
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>    <span class="kd">public</span> <span class="n">Event</span><span class="o">[]</span> <span class="n">events</span><span class="o">;</span> <span class="c1">// Array of events, order of events not guaranteed.</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="n">numOfEvents</span><span class="o">;</span> <span class="c1">// The number of events in the event array.</span>
</pre></div>
</td></tr></table></p>
<p>The simulator needs to keep track of three states:</p>
<ul>
<li>is a customer being served?</li>
<li>is a customer waiting?</li>
<li>if a customer is waiting, when did he start waiting?</li>
</ul>
<p>These states are represented as:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>    <span class="kd">public</span> <span class="kt">boolean</span> <span class="n">customerBeingServed</span><span class="o">;</span> <span class="c1">// is a customer currently being served?</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="n">customerWaiting</span><span class="o">;</span> <span class="c1">// is a customer currently waiting?</span>
    <span class="kd">public</span> <span class="kt">double</span> <span class="n">timeStartedWaiting</span><span class="o">;</span> <span class="c1">// the time the current waiting customer started waiting</span>
</pre></div>
</td></tr></table>

<p>Remember we are interested in the following statistics:</p>
<ul>
<li>What is the average waiting time for customers that have been served?</li>
<li>How many customers are served?</li>
<li>How many customers left without being served?</li>
</ul>
<p>which can be computed from the following members:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>    <span class="kd">public</span> <span class="kt">double</span> <span class="n">totalWaitingTime</span><span class="o">;</span> <span class="c1">// total time everyone spent waiting</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="n">totalNumOfServedCustomer</span><span class="o">;</span> <span class="c1">// how many customer has waited</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="n">totalNumOfLostCustomer</span><span class="o">;</span> <span class="c1">// how many customer has been lost</span>
</pre></div>
</td></tr></table>

<p>Finally, for debugging purposes, the simulator assigns unique IDs 1, 2, 3, ... to the customers, in the order of their arrivals.  It then keeps track of the ID of the customer being served (if any) and the customer waiting to be served.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>    <span class="kd">public</span> <span class="kt">int</span> <span class="n">lastCustomerId</span><span class="o">;</span> <span class="c1">// starts from 0 and increases as customer arrives.</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="n">servedCustomerId</span><span class="o">;</span> <span class="c1">// id of the customer being served, if any</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="n">waitingCustomerId</span><span class="o">;</span> <span class="c1">// id of the customer currently waiting, if any</span>
</pre></div>
</td></tr></table>

<h3 id="interaction-between-simulator-and-event">Interaction between <code class="codehilite">Simulator</code> and <code class="codehilite">Event</code></h3>
<p>We create a <code class="codehilite">Simulator</code> by calling the method:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>  <span class="kd">static</span> <span class="n">Simulator</span> <span class="nf">createSimulator</span><span class="o">()</span> <span class="o">{..}</span>
</pre></div>
</td></tr></table>
and an <code class="codehilite">Event</code> by calling the method, specifying <code class="codehilite">when</code> the event will occur, and the <code class="codehilite">type</code> of the event.
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>  <span class="kd">static</span> <span class="n">Event</span> <span class="nf">createEvent</span><span class="o">(</span><span class="kt">double</span> <span class="n">when</span><span class="o">,</span> <span class="kt">int</span> <span class="n">type</span><span class="o">)</span>  <span class="o">{..}</span>
</pre></div>
</td></tr></table></p>
<p>We can schedule the event <code class="codehilite">e</code> to be executed by simulator <code class="codehilite">sim</code> by calling:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>  <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">scheduleEventInSimulator</span><span class="o">(</span><span class="n">Event</span> <span class="n">e</span><span class="o">,</span> <span class="n">Simulator</span> <span class="n">sim</span><span class="o">)</span> <span class="o">{..}</span>
</pre></div>
</td></tr></table>
This method will return <code class="codehilite">true</code> if the event is scheduled successfully, <code class="codehilite">false</code> if the simulator run out of space to store the event (i.e., <code class="codehilite">MAX_NUMBER_OF_EVENTS</code> is reached).</p>
<p>We always execute the events in increasing sequence of their time.  Once the simulator starts running, it repeatedly finds the next event with the smallest timestamp (i.e., earliest event), removes it from the list of events, and execute the event.  The simulator stops when there is no more event to run.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>  <span class="kd">static</span> <span class="kt">void</span> <span class="nf">runSimulator</span><span class="o">(</span><span class="n">Simulator</span> <span class="n">sim</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">while</span> <span class="o">(</span><span class="n">sim</span><span class="o">.</span><span class="na">numOfEvents</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">Event</span> <span class="n">e</span> <span class="o">=</span> <span class="n">getNextEarliestEvent</span><span class="o">(</span><span class="n">sim</span><span class="o">);</span>
      <span class="n">simulateEvent</span><span class="o">(</span><span class="n">sim</span><span class="o">,</span> <span class="n">e</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
</pre></div>
</td></tr></table>

<p>Here, <code class="codehilite">e = getNextEarliestEvent(sim)</code> removes and returns the earliest event in the simulator, and <code class="codehilite">simulateEvent(sim, e)</code> update the states of the simulator according to the type of the event <code class="codehilite">e</code>.</p>
<h3 id="simulated-system">Simulated System</h3>
<p>The logic of the system being simulator (i.e., the behavior of customers and server) is implemented in <code class="codehilite">simulateEvent</code>.  There are four methods being called from here:</p>
<ul>
<li><code class="codehilite">serveCustomer(sim, time, id)</code>: called to start serving a customer with ID <code class="codehilite">id</code></li>
<li><code class="codehilite">makeCustomerWait(sim, time, id)</code>: called to make the customer with ID <code class="codehilite">id</code> wait</li>
<li><code class="codehilite">customerLeaves(sim, time, id)</code>: called when the customer with ID <code class="codehilite">id</code> who just arrived leaves immediately (as someone else is waiting)</li>
<li><code class="codehilite">servedWaitingCustomer(sim, time)</code>: called to start serving the customer that is currently waiting.</li>
</ul>
<p>You should read through <code class="codehilite">LabOneA.java</code> and clarify if you are not sure about any part of the given code.</p>
<h3 id="input-and-output">Input and Output</h3>
<p>The input consists of a sequence of double values, each is the arrival time of a customer (in any order).  We can read from standard input (if no command line argument is given)
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>java LabOneA
java LabOneA  &lt; TESTDATA1.txt
</pre></div>
</td></tr></table>
or read from a given filename
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>java LabOneA TESTDATA1
</pre></div>
</td></tr></table></p>
<p>Given an input, the output might not be deterministic, since if two events occur at exactly the same time, we break the ties arbitrarily.  For this reason, we will only test your code with input where no two events occur at exactly the same time.</p>
<p>The test cases and outputs<sup id="fnref:1"><a class="footnote-ref" href="#fn:1" rel="footnote">1</a></sup> should be:</p>
<table>
<thead>
<tr>
<th>Test Case</th>
<th>Output</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>0.000 1 0</td>
</tr>
<tr>
<td>2</td>
<td>0.000 4 0</td>
</tr>
<tr>
<td>3</td>
<td>0.450 2 8</td>
</tr>
<tr>
<td>4</td>
<td>0.614 7 0</td>
</tr>
<tr>
<td>5</td>
<td>0.405 76 24</td>
</tr>
</tbody>
</table>
<p>Note that the skeleton we gave to you already produces the output above.  You just need to ensure that after changing the code to OO style, the output remains the same.  Of course, as usual, producing the correct output for five test cases does not guarantee that your code is correct.</p>
<h2 id="your-task">Your Task</h2>
<p>The given <code class="codehilite">LabOneA.java</code> is written in C style, no minimal encapsulation.  As you read through the code, you should appreciate how messy and difficult to understand the code is.</p>
<p>Your mission, in Lab 2, is to rewrite the code using encapsulation, applying OO paradigm, properly maintain the abstraction barrier when the objects interact.  See the Section on Goals above.  Here are some rules:</p>
<ul>
<li>
<p>You can add as many classes as you like.  Each class must be in its own <code class="codehilite"><span class="na">.java</span></code> file</p>
</li>
<li>
<p>The <code class="codehilite">main</code> method should remain in a class named <code class="codehilite">LabOneA</code>.  We must be able to run your code with:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>javac *.java
java LabOneA &lt; TESTDATA1.txt
</pre></div>
</td></tr></table></p>
</li>
<li>
<p>You must not change the formatting of the <em>last line</em> of output (<code class="codehilite">System.out.printf(&quot;%.3f %d %d&quot;, ..&quot;)</code>).  We rely on it to check for correctness of your logic.</p>
</li>
<li>
<p>Your code should follow the <a href="../style/index.html">CS2030 Coding Style</a></p>
</li>
</ul>
<h2 id="submission">Submission</h2>
<p>When you are ready to submit your lab, on <code class="codehilite">cs2030-i</code>, run the script
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>~cs2030/submit1a
</pre></div>
</td></tr></table></p>
<p>which will copy all files matching <code class="codehilite">*.java</code> (and nothing else) from your <code class="codehilite">~/lab1a</code> directory on <code class="codehilite">cs2030-i</code> to an internal grading directory.  We will test compile and test run with a tiny sample input to make sure that your submission is OK.</p>
<p>We will run <code class="codehilite">checkstyle</code> to check your code against the CS2030 Java Coding Convention upon submission. </p>
<p>This lab is not graded.  But do submit anyway so that we have a record that you have done the lab.</p>
<p>To get individual feedback on your lab solution, please talk to your lab TAs.</p>
<h2 id="extra-java-stuff">Extra Java Stuff</h2>
<p>You are exposed to three new Java syntax/class in this Lab:</p>
<ul>
<li>Nested classes: In the code given to you, we define <code class="codehilite">Simulator</code> and <code class="codehilite">Event</code> within the class <code class="codehilite">LabOneA</code>.  This is called <em>nested class</em> in Java.  Usually, this is useful if we need to create a class that is only useful to another class.  We can group logically relevant classes together.</li>
<li><code class="codehilite">assert</code> keyword: <code class="codehilite">assert</code> works like in C and Python.  You use <code class="codehilite">assert</code> to check for conditions that have to be true in your code.  If an assertion fails, the program will bail, informing you what went wrong.  This is useful to catch bugs quickly.  Use this by passing a <code class="codehilite">-ea</code> (enable assertions) flag when running a Java program e.g. <code class="codehilite">java -ea LabOneA TESTDATA1.txt</code></li>
<li><a href="http://docs.oracle.com/javase/8/docs/api/?java/io/FileReader.html"><code class="codehilite">FileReader</code></a>: a useful class for reading a stream of characters from a file.</li>
</ul>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>After piping through <code class="codehilite">tail</code> (e.g., <code class="codehilite">java LabOneA &lt; TESTDATA1.txt | tail -1</code>)&#160;<a class="footnote-backref" href="#fnref:1" rev="footnote" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../lab0/index.html" title="0. Warm Up" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                0. Warm Up
              </span>
            </div>
          </a>
        
        
          <a href="../lab1b/index.html" title="1b. Simulator v1.1" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                1b. Simulator v1.1
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright by Wei Tsang Ooi, Department of Computer Science, National University of Singapore 2018
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.a59e2a89.js"></script>
      
      <script>app.initialize({version:"0.17.5",url:{base:".."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
    
      
    
  </body>
</html>