



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://nus-cs2030.github.io/1718-s2/lec07/index.html">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.5, mkdocs-material-2.9.2">
    
    
      
        <title>7. Functions - CS2030 Programming Methodology II</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.ba0fd1a6.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Gentium+Book+Basic">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
    
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#lecture-7-functions" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://nus-cs2030.github.io/1718-s2" title="CS2030 Programming Methodology II" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                CS2030 Programming Methodology II
              </span>
              <span class="md-header-nav__topic">
                7. Functions
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/nus-cs2030/1718-s2/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    CS2030 Programming Methodology II
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/nus-cs2030/1718-s2/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../index.html" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      General
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        General
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../about/index.html" title="About" class="md-nav__link">
      About
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../prereqs/index.html" title="Prerequisites" class="md-nav__link">
      Prerequisites
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../policies/index.html" title="Policies" class="md-nav__link">
      Policies
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../schedule/index.html" title="Schedule" class="md-nav__link">
      Schedule
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../readings/index.html" title="Readings" class="md-nav__link">
      Readings
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../final/index.html" title="Final" class="md-nav__link">
      Final
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../midterm/index.html" title="Midterm" class="md-nav__link">
      Midterm
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Labs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Labs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../lab0/index.html" title="0. Warm Up" class="md-nav__link">
      0. Warm Up
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab1a/index.html" title="1a. Simulator v1.0" class="md-nav__link">
      1a. Simulator v1.0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab1b/index.html" title="1b. Simulator v1.1" class="md-nav__link">
      1b. Simulator v1.1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab2a/index.html" title="2a. Simulator v1.2" class="md-nav__link">
      2a. Simulator v1.2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab2b/index.html" title="2b. Simulator v1.3" class="md-nav__link">
      2b. Simulator v1.3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab3/index.html" title="3.  Infinite List" class="md-nav__link">
      3.  Infinite List
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab4a/index.html" title="4a. Simulator v2.0" class="md-nav__link">
      4a. Simulator v2.0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab4b/index.html" title="4b. Simulator v2.1" class="md-nav__link">
      4b. Simulator v2.1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab5/index.html" title="5.  Matrix Multiplication" class="md-nav__link">
      5.  Matrix Multiplication
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab6/index.html" title="6.  Async Web API" class="md-nav__link">
      6.  Async Web API
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8" checked>
    
    <label class="md-nav__link" for="nav-8">
      Lectures
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Lectures
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../lec01/index.html" title="1. Abstraction & Encapsulation" class="md-nav__link">
      1. Abstraction & Encapsulation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec02/index.html" title="2. Interface, Inheritance & Polymorphism" class="md-nav__link">
      2. Interface, Inheritance & Polymorphism
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec03/index.html" title="3. More on Inheritance" class="md-nav__link">
      3. More on Inheritance
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec04/index.html" title="4. Types, Memory, Exception" class="md-nav__link">
      4. Types, Memory, Exception
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec05/index.html" title="5. Generics and Collections" class="md-nav__link">
      5. Generics and Collections
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec06/index.html" title="6. hashCode, Nested Class, enum" class="md-nav__link">
      6. hashCode, Nested Class, enum
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        7. Functions
      </label>
    
    <a href="index.html" title="7. Functions" class="md-nav__link md-nav__link--active">
      7. Functions
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#learning-objectives" title="Learning Objectives" class="md-nav__link">
    Learning Objectives
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#abstraction-principles-revisited" title="Abstraction Principles Revisited" class="md-nav__link">
    Abstraction Principles Revisited
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions" title="Functions" class="md-nav__link">
    Functions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-function-interface-in-java-8" title="The Function interface in Java 8" class="md-nav__link">
    The Function interface in Java 8
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lambda-expression" title="Lambda Expression" class="md-nav__link">
    Lambda Expression
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#method-reference" title="Method Reference" class="md-nav__link">
    Method Reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#composing-functions" title="Composing Functions" class="md-nav__link">
    Composing Functions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generics-revisited-pecs" title="Generics Revisited: PECS" class="md-nav__link">
    Generics Revisited: PECS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#other-functions" title="Other Functions" class="md-nav__link">
    Other Functions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#curried-functions" title="Curried Functions" class="md-nav__link">
    Curried Functions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercise" title="Exercise" class="md-nav__link">
    Exercise
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec08/index.html" title="8. Streams" class="md-nav__link">
      8. Streams
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec09/index.html" title="9. FP Patterns" class="md-nav__link">
      9. FP Patterns
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec10/index.html" title="10. Parallel streams" class="md-nav__link">
      10. Parallel streams
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec11/index.html" title="11. Asynchronous" class="md-nav__link">
      11. Asynchronous
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../monad/index.html" title="Extra. Build a Monad" class="md-nav__link">
      Extra. Build a Monad
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../review-questions/index.html" title="Extra. Review Questions" class="md-nav__link">
      Extra. Review Questions
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../style/index.html" title="Coding Style" class="md-nav__link">
      Coding Style
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Software/Tools
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Software/Tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../jdk/index.html" title="Java" class="md-nav__link">
      Java
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../javadoc/index.html" title="Javadoc" class="md-nav__link">
      Javadoc
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../unix/index.html" title="UNIX" class="md-nav__link">
      UNIX
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vim/index.html" title="Vim" class="md-nav__link">
      Vim
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#learning-objectives" title="Learning Objectives" class="md-nav__link">
    Learning Objectives
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#abstraction-principles-revisited" title="Abstraction Principles Revisited" class="md-nav__link">
    Abstraction Principles Revisited
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions" title="Functions" class="md-nav__link">
    Functions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-function-interface-in-java-8" title="The Function interface in Java 8" class="md-nav__link">
    The Function interface in Java 8
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lambda-expression" title="Lambda Expression" class="md-nav__link">
    Lambda Expression
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#method-reference" title="Method Reference" class="md-nav__link">
    Method Reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#composing-functions" title="Composing Functions" class="md-nav__link">
    Composing Functions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generics-revisited-pecs" title="Generics Revisited: PECS" class="md-nav__link">
    Generics Revisited: PECS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#other-functions" title="Other Functions" class="md-nav__link">
    Other Functions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#curried-functions" title="Curried Functions" class="md-nav__link">
    Curried Functions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercise" title="Exercise" class="md-nav__link">
    Exercise
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/nus-cs2030/1718-s2/edit/master/docs/lec07.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="lecture-7-functions">Lecture 7: Functions</h1>
<h2 id="learning-objectives">Learning Objectives</h2>
<p>After this lecture, students should be familiar with:</p>
<ul>
<li>the concept of functions as a side-effect free programming constructs and its relation to functions in mathematics.</li>
<li>the <code class="codehilite">Function</code> interface in Java 8, including the methods <code class="codehilite">apply</code>, <code class="codehilite">compose</code>, and <code class="codehilite">andThen</code> methods.</li>
<li>the interfaces <code class="codehilite">Predicate</code>, <code class="codehilite">Supplier</code>, <code class="codehilite">Consumer</code>, and <code class="codehilite">BiFunction</code>.</li>
<li>the syntax of method reference and lambda expression</li>
<li>how to write functions with multiple arguments using curried functions </li>
</ul>
<p>Java 8 introduces several new important new features, including lambda expressions and the stream APIs.  We will spend the next few lectures exploring these new features and how it allows us to write more succinct code and hopefully, less buggy code.  The stream APIs also makes it possible for us to parallelize our code for execution on multiple cores/processors with ease.</p>
<h2 id="abstraction-principles-revisited">Abstraction Principles Revisited</h2>
<p>Let's revisit the abstraction principles we first visited in Lecture 2.  It says that <em>"Each significant piece of functionality in a program should be implemented in just one place in the source code. Where similar functions are carried out by distinct pieces of code, it is generally beneficial to combine them into one by abstracting out the varying parts."</em></p>
<p>We have seen this principle being applied in several ways.</p>
<p>First, you should be all be familiar with abstracting out code with the same logic but applied to different variables.   Consider the following sample code from <code class="codehilite">RandomGenerator</code> class:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>  <span class="kt">double</span> <span class="nf">genInterArrivalTime</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="o">-</span><span class="n">Math</span><span class="o">.</span><span class="na">log</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">rngArrival</span><span class="o">.</span><span class="na">nextDouble</span><span class="o">())</span> <span class="o">/</span> <span class="k">this</span><span class="o">.</span><span class="na">customerArrivalRate</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kt">double</span> <span class="nf">genServiceTime</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="o">-</span><span class="n">Math</span><span class="o">.</span><span class="na">log</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">rngService</span><span class="o">.</span><span class="na">nextDouble</span><span class="o">())</span> <span class="o">/</span> <span class="k">this</span><span class="o">.</span><span class="na">customerServiceRate</span><span class="o">;</span>
  <span class="o">}</span>
</pre></div>
</td></tr></table>

<p>You can see that the two methods above have similar implementation.  They all generate an exponentially distributed random number, with a different rate using a different random number generator.  One could apply the abstraction principle and write the code as follows:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">double</span> <span class="nf">randomExponentialValue</span><span class="o">(</span><span class="n">Random</span> <span class="n">rng</span><span class="o">,</span> <span class="kt">double</span> <span class="n">rate</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">return</span> <span class="o">-</span><span class="n">Math</span><span class="o">.</span><span class="na">log</span><span class="o">(</span><span class="n">rng</span><span class="o">.</span><span class="na">nextDouble</span><span class="o">())</span> <span class="o">/</span> <span class="n">rate</span><span class="o">;</span>
<span class="o">}</span>

<span class="kt">double</span> <span class="nf">generateServiceTime</span><span class="o">()</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">randomExponentialValue</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">rngService</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">serviceRate</span><span class="o">);</span>
<span class="o">}</span>

<span class="kt">double</span> <span class="nf">generateInterArrivalTime</span><span class="o">()</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">randomExponentialValue</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">rngArrival</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">arrivalRate</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<p>Now, when we need a new exponentially distributed random number, say for rest period (see Lab 5), you can just write a method that calls <code class="codehilite">randomExponentialValue()</code> method with the appropriate <code class="codehilite">Random</code> object and rate, without worrying about the formula to generate an exponential random variable.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>double genRestPeriod() {
  return randomExponentialValue(rngRestPeriod, this.serverRestingRate);
}
</pre></div>
</td></tr></table>

<p>Here, the varying parts that we abstracted out is the variables.  </p>
<p>Second, consider the <code class="codehilite">CircleQueue</code> and <code class="codehilite">PointQueue</code> examples from Lecture 4.  The two classes implement similar methods with similar logic.  The only difference is the type.  </p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">CircleQueue</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="n">Circle</span><span class="o">[]</span> <span class="n">circles</span><span class="o">;</span>
   <span class="o">:</span>
  <span class="kd">public</span> <span class="nf">CircleQueue</span><span class="o">(</span><span class="kt">int</span> <span class="n">size</span><span class="o">)</span> <span class="o">{...}</span>
  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isFull</span><span class="o">()</span> <span class="o">{...}</span>
  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isEmpty</span><span class="o">()</span> <span class="o">{...}</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">enqueue</span><span class="o">(</span><span class="n">Circle</span> <span class="n">c</span><span class="o">)</span> <span class="o">{...}</span>
  <span class="kd">public</span> <span class="n">Circle</span> <span class="nf">dequeue</span><span class="o">()</span> <span class="o">{...}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">PointQueue</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="n">Point</span><span class="o">[]</span> <span class="n">points</span><span class="o">;</span>
   <span class="o">:</span>
  <span class="kd">public</span> <span class="nf">PointQueue</span><span class="o">(</span><span class="kt">int</span> <span class="n">size</span><span class="o">)</span> <span class="o">{...}</span>
  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isFull</span><span class="o">()</span> <span class="o">{...}</span>
  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isEmpty</span><span class="o">()</span> <span class="o">{...}</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">enqueue</span><span class="o">(</span><span class="n">Point</span> <span class="n">p</span><span class="o">)</span> <span class="o">{...}</span>
  <span class="kd">public</span> <span class="n">Point</span> <span class="nf">dequeue</span><span class="o">()</span> <span class="o">{...}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<p>We then replace the two classes (and any future class that we might write to implement such queues) with a generic <code class="codehilite">Queue&lt;T&gt;</code>.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">Queue</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="n">T</span><span class="o">[]</span> <span class="n">objects</span><span class="o">;</span>
   <span class="o">:</span>
  <span class="kd">public</span> <span class="n">Queue</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;(</span><span class="kt">int</span> <span class="n">size</span><span class="o">)</span> <span class="o">{...}</span>
  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isFull</span><span class="o">()</span> <span class="o">{...}</span>
  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isEmpty</span><span class="o">()</span> <span class="o">{...}</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">enqueue</span><span class="o">(</span><span class="n">T</span> <span class="n">o</span><span class="o">)</span> <span class="o">{...}</span>
  <span class="kd">public</span> <span class="n">T</span> <span class="nf">dequeue</span><span class="o">()</span> <span class="o">{...}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<p>Here, the varying parts that we abstracted out is the type of the elements.  </p>
<p>Third, consider how we tell <code class="codehilite">ArrayList.sort()</code> to sort the items in the array in <a href="../lec05/index.html">Lecture 5</a>.  By passing in <code class="codehilite">NameComparator</code>, we can tell <code class="codehilite">ArrayList</code> to sort in alphabetical order, either in ascending order or descending order, or by the length of the strings, or any other ways we like.   An alternative would be to have our own <code class="codehilite">StringList</code> class and implements methods <code class="codehilite">sortAlphabeticallyAscending()</code>, <code class="codehilite">sortAlphabeticallyDescending()</code>, <code class="codehilite">sortByLengthAscending()</code>, <code class="codehilite">sortByLengthDescending()</code>, etc.  But all of these methods would be implementing the same sorting algorithms, the only part that is different is the comparison method to determine the order of the elements.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">NameComparator</span> <span class="kd">implements</span> <span class="n">Comparator</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compare</span><span class="o">(</span><span class="n">String</span> <span class="n">s1</span><span class="o">,</span> <span class="n">String</span> <span class="n">s2</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// return (s1.compareTo(s2));</span>
    <span class="c1">// return (s2.compareTo(s1));</span>
    <span class="k">return</span> <span class="o">(</span><span class="n">s2</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">-</span> <span class="n">s1</span><span class="o">.</span><span class="na">length</span><span class="o">());</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">SortedList</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">names</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;();</span>

    <span class="n">names</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="s">&quot;Joffrey&quot;</span><span class="o">);</span>
    <span class="n">names</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="s">&quot;Cersei&quot;</span><span class="o">);</span>
    <span class="n">names</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="s">&quot;Meryn&quot;</span><span class="o">);</span>
    <span class="n">names</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="s">&quot;Walder&quot;</span><span class="o">);</span>
      <span class="o">:</span>
      <span class="o">:</span>

    <span class="n">names</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="k">new</span> <span class="n">NameComparator</span><span class="o">());</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<p>Here, the varying parts that we abstracted out is a snippet of the code, or functionality, of the methods.  This idea is much more powerful than just abstracting out how we compare and sort.  We will see how it can lead to a significantly different way of writing code.</p>
<h2 id="functions">Functions</h2>
<p>While we have been using the terms functions and methods (and occasionally, procedure) interchangeably, we will now use the term function to refer to methods with specific properties.  </p>
<p>A function, in mathematics, refers to a mapping from a set of inputs (<em>domain</em>) <span><span class="MathJax_Preview">X</span><script type="math/tex">X</script></span> to a set of output values (<em>codomain</em>) <span><span class="MathJax_Preview">Y</span><script type="math/tex">Y</script></span>.  We write <span><span class="MathJax_Preview">f: X \rightarrow Y</span><script type="math/tex">f: X \rightarrow Y</script></span>.  Every input in the domain must map to exactly one output but multiple inputs can map to the same output.  Not all values in the codomain need to be mapped.  The set of elements in the codomain that is mapped is called the <em>image</em>.  </p>
<p>Functions in programming languages is the same as functions in mathematics.  Given an input, the function computes and returns an output.  A <em>pure</em> function does nothing else -- it does not print to the screen, write to files, throw exceptions, change other variables, modify the values of the arguments.  We say that a pure function does not cause any <em>side effect</em>.  </p>
<p>Here are two examples of pure functions:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">int</span> <span class="nf">square</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">i</span> <span class="o">*</span> <span class="n">i</span><span class="o">;</span>
<span class="o">}</span>

<span class="kt">int</span> <span class="nf">add</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">,</span> <span class="kt">int</span> <span class="n">j</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">i</span> <span class="o">+</span> <span class="n">j</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<p>and some examples of non-pure functions:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">int</span> <span class="nf">div</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">,</span> <span class="kt">int</span> <span class="n">j</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">i</span> <span class="o">/</span> <span class="n">j</span><span class="o">;</span>  <span class="c1">// may throw an exception</span>
<span class="o">}</span>

<span class="kt">int</span> <span class="nf">incrCount</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">count</span> <span class="o">+</span> <span class="n">i</span><span class="o">;</span> <span class="c1">// assume that count is not final.</span>
                         <span class="c1">// this may give diff results for the same i.</span>
<span class="o">}</span>

<span class="kt">void</span> <span class="nf">incrCount</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">this</span><span class="o">.</span><span class="na">count</span> <span class="o">+=</span> <span class="n">i</span><span class="o">;</span> <span class="c1">// does not return a value</span>
                   <span class="c1">// and has side effects on count</span>
<span class="o">}</span>

<span class="kt">int</span> <span class="nf">addToList</span><span class="o">(</span><span class="n">ArrayList</span> <span class="n">queue</span><span class="o">,</span> <span class="kt">int</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">queue</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>  <span class="c1">// has side effects on queue</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></p>
<p>A pure function must also be deterministic.  Given the same input, the function must produce the same output, <em>every single time</em>.</p>
<p>In OO paradigm, we commonly need to write methods that update the fields of an instance or compute values using the fields of an instance.  Such methods are not pure functions.  How do we write classes with methods that do not have side effects (do not update the fields in the class)?  We can do so by making our class <em>immutable</em>.  Recall that classes such as <code class="codehilite">String</code> are immutable.  If we want to modify a <code class="codehilite">String</code> object, we have to create a new one containing the modified string.  Such operations on the <code class="codehilite">String</code> object has no side-effect (the original string is still in tact).</p>
<p>In computer science, we refer to the style of programming where we build a program from pure functions as <em>functional programming</em> (FP).  Many modern programming languages, such as Java, now supports this style of programming.  As Java is inherently still an OO language, we cannot build a program from only pure functions.  As such, I will refer to this style as <em>functional-style programming</em> within an OO language.</p>
<p>While the notion of pure functions might seems restrictive, recall how many times your program has a bug that is related to incorrect side effects or unintended side effects?  Or, how much effort is needed to trace through the code in different classes to see what is going on in one line of code.  Take the following line, for instance,</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">server</span><span class="o">.</span><span class="na">serve</span><span class="o">(</span><span class="n">customer</span><span class="o">);</span>
</pre></div>
</td></tr></table>

<p>What is updated in the server?  How about the customer?  Is the variable <code class="codehilite">numOfServedCustomer</code> updated?  Is a new <code class="codehilite">DoneEvent</code> being created and scheduled?</p>
<p>If we design and write our program with pure functions as much as possible, we could significantly reduce the number of bugs.</p>
<p>Michael Feathers tweeted that "(OO makes code understandable by encapsulating moving parts.  FP makes code understandable by minimizing moving parts.)[<a href="https://twitter.com/mfeathers/status/29581296216?lang=en">https://twitter.com/mfeathers/status/29581296216?lang=en</a>]"  The moving parts here refers to changing states.  He succintly highlights one of the major differences between OOP and FP.</p>
<p>In mathematics, we say that a mapping is a <em>partial function</em> if not all elements in the domain are mapped.   A common programming error is to treat a partial function like a function -- for instance, the <code class="codehilite">div</code> method above is written as if it is defined for all int values, but it is not defined when <code class="codehilite">j</code> is 0.  Another common error is that a function may produce a value that is not in the codomain, e.g., <code class="codehilite">null</code>.  </p>
<p>Mathematically, a function takes in only one value and return one value (e.g., <code class="codehilite">square</code> above).  In programming, we often need to write functions that take in more than one arguments (e.g., <code class="codehilite">add</code> above).  We will see how to reconcile this later.</p>
<h2 id="the-function-interface-in-java-8">The <code class="codehilite">Function</code> interface in Java 8</h2>
<p>Let's explore functions in Java 8 by looking at the <a href="https://docs.oracle.com/javase/9/docs/api/java/util/function/Function.html"><code class="codehilite">Function</code></a> interface, it is a generic interface with two type parameters, <code class="codehilite">Function&lt;T, R&gt;</code>, <code class="codehilite">T</code> is the type of the input, <code class="codehilite">R</code> is the type of the Result.  It has one abstract method <code class="codehilite">R apply(T t)</code> that applies the function to a given argument.</p>
<p>Let's write a class that implements <code class="codehilite">Function</code>.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">Square</span> <span class="kd">implements</span> <span class="n">Function</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="n">Integer</span> <span class="nf">apply</span><span class="o">(</span><span class="n">Integer</span> <span class="n">x</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<p>To use it, we can:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Square</span><span class="o">().</span><span class="na">apply</span><span class="o">(</span><span class="mi">4</span><span class="o">);</span>
</pre></div>
</td></tr></table></p>
<p>So far, everything is as you have seen before, and is significantly more complex than just writing:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">square</span><span class="o">(</span><span class="mi">4</span><span class="o">);</span>
</pre></div>
</td></tr></table>

<p>So, what is the use of this?  Consider now if we have a <code class="codehilite">List&lt;Integer&gt;</code> of integers, and we want to return another list where the elements are the square of the first list.  We can write a method:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="nf">squareList</span><span class="o">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">newList</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;();</span>
  <span class="k">for</span> <span class="o">(</span><span class="n">Integer</span> <span class="n">i</span><span class="o">:</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">newList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">square</span><span class="o">(</span><span class="n">i</span><span class="o">));</span>
  <span class="o">}</span>
  <span class="k">return</span> <span class="n">newList</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
Creating a new list out of an existing list is actually a common pattern.  We might want to, say, create a list with the absolute values:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="nf">negativeList</span><span class="o">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">newList</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;();</span>
  <span class="k">for</span> <span class="o">(</span><span class="n">Integer</span> <span class="n">i</span><span class="o">:</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">newList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">Math</span><span class="o">.</span><span class="na">abs</span><span class="o">(</span><span class="n">i</span><span class="o">));</span>
  <span class="o">}</span>
  <span class="k">return</span> <span class="n">newList</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></p>
<p>This is actually a common pattern.  Applying the abstraction principle, we can generalize the method to:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="nf">applyList</span><span class="o">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">,</span> <span class="n">Function</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">f</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">newList</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;();</span>
  <span class="k">for</span> <span class="o">(</span><span class="n">Integer</span> <span class="n">i</span><span class="o">:</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">newList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">f</span><span class="o">.</span><span class="na">apply</span><span class="o">(</span><span class="n">i</span><span class="o">));</span>
  <span class="o">}</span>
  <span class="k">return</span> <span class="n">newList</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></p>
<p>and call:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">applyList</span><span class="o">(</span><span class="n">list</span><span class="o">,</span> <span class="k">new</span> <span class="n">Square</span><span class="o">());</span>
</pre></div>
</td></tr></table></p>
<p>to return a list of squares.</p>
<p>If we do not want to create a new class just for this, we can, as before, use an anonymous class:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">applyList</span><span class="o">(</span><span class="n">list</span><span class="o">,</span> <span class="k">new</span> <span class="n">Function</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span><span class="n">Integer</span><span class="o">&gt;()</span> <span class="o">{</span> 
  <span class="kd">public</span> <span class="n">Integer</span> <span class="nf">apply</span><span class="o">(</span><span class="n">Integer</span> <span class="n">x</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="n">x</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">});</span>
</pre></div>
</td></tr></table></p>
<div class="admonition note">
<p class="admonition-title">Map</p>
<p>The <code class="codehilite">applyList</code> method above is most commonly referred to as <code class="codehilite">map</code>.</p>
</div>
<h2 id="lambda-expression">Lambda Expression</h2>
<p>The code is still pretty ugly, and there is much boiler plate code.  The key line is actually Line 3 above, <code class="codehilite">return x * x</code>.  Fortunately, Java 8 provides a clean way to write this:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">applyList</span><span class="o">(</span><span class="n">list</span><span class="o">,</span> <span class="o">(</span><span class="n">Integer</span> <span class="n">x</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span> <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="n">x</span><span class="o">;</span> <span class="o">});</span>
<span class="n">applyList</span><span class="o">(</span><span class="n">list</span><span class="o">,</span> <span class="n">x</span> <span class="o">-&gt;</span> <span class="o">{</span> <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="n">x</span><span class="o">;</span> <span class="o">});</span>
<span class="n">applyList</span><span class="o">(</span><span class="n">list</span><span class="o">,</span> <span class="n">x</span> <span class="o">-&gt;</span> <span class="n">x</span> <span class="o">*</span> <span class="n">x</span><span class="o">);</span>
</pre></div>
</td></tr></table>

<p>The expressions above, including <code class="codehilite">x -&gt; x * x</code>, are <em>lambda expressions</em>.  You can recognize one by the use of <code class="codehilite">-&gt;</code>.   The left hand side lists the arguments (use <code class="codehilite">()</code> if there is no argument), while the right hand side is the computation.  We do not need the type in cases where Java can infer the type, nor need the return statements and the curly brackets.</p>
<div class="admonition note">
<p class="admonition-title">lambda</p>
<p>Alonzo Church invented lambda calculus (<span><span class="MathJax_Preview">\lambda</span><script type="math/tex">\lambda</script></span>-calculus) in 1936, before electronic computers, as a way to express computation.  In <span><span class="MathJax_Preview">\lambda</span><script type="math/tex">\lambda</script></span>-calculus, all functions are anonymous.  The term lambda expression originated from there.</p>
</div>
<p>We can use lambda expressions just like any other values in Java.  We have seen above that we can pass a lambda expression to a method.  We can also assign a lambda expression to a variable:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">Function</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">square</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-&gt;</span> <span class="n">x</span> <span class="o">*</span> <span class="n">x</span><span class="o">;</span>
<span class="n">square</span><span class="o">.</span><span class="na">apply</span><span class="o">(</span><span class="mi">4</span><span class="o">);</span>
</pre></div>
</td></tr></table></p>
<h3 id="method-reference">Method Reference</h3>
<p>We can use a lambda expression to implement <code class="codehilite">applyList</code> with <code class="codehilite">abs()</code> method in <code class="codehilite">Math</code>.
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">applyList</span><span class="o">(</span><span class="n">list</span><span class="o">,</span> <span class="n">x</span> <span class="o">-&gt;</span> <span class="n">Math</span><span class="o">.</span><span class="na">abs</span><span class="o">(</span><span class="n">x</span><span class="o">));</span>
</pre></div>
</td></tr></table></p>
<p>If we look carefully at <code class="codehilite">abs()</code>, however, it takes in an <code class="codehilite">int</code>, and returns an <code class="codehilite">int</code>.  So, it already fits the <code class="codehilite">Function&lt;Integer,Integer&gt;</code> interface (with autoboxing and unboxing).  As such, we can refer to the method with a method reference: <code class="codehilite">Math::abs</code>.  The code above can be simplified to:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">applyList</span><span class="o">(</span><span class="n">list</span><span class="o">,</span> <span class="n">Math</span><span class="o">::</span><span class="n">abs</span><span class="o">);</span>
</pre></div>
</td></tr></table></p>
<p>Again, we can assign method reference and pass them around like any other objects.
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">Function</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">Math</span><span class="o">::</span><span class="n">abs</span><span class="o">;</span>
<span class="n">f</span><span class="o">.</span><span class="na">apply</span><span class="o">(-</span><span class="mi">4</span><span class="o">);</span>
</pre></div>
</td></tr></table></p>
<h3 id="composing-functions">Composing Functions</h3>
<p>The <code class="codehilite">Function</code> interface has two default methods:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">default</span> <span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;</span> <span class="n">Function</span><span class="o">&lt;</span><span class="n">T</span><span class="o">,</span><span class="n">V</span><span class="o">&gt;</span> <span class="nf">andThen</span><span class="o">(</span><span class="n">Function</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="n">R</span><span class="o">,?</span> <span class="kd">extends</span> <span class="n">V</span><span class="o">&gt;</span> <span class="n">after</span><span class="o">);</span>
<span class="k">default</span> <span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;</span> <span class="n">Function</span><span class="o">&lt;</span><span class="n">V</span><span class="o">,</span><span class="n">R</span><span class="o">&gt;</span> <span class="nf">compose</span><span class="o">(</span><span class="n">Function</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="n">V</span><span class="o">,?</span> <span class="kd">extends</span> <span class="n">T</span><span class="o">&gt;</span> <span class="n">before</span><span class="o">);</span>
</pre></div>
</td></tr></table></p>
<p>for composing two functions.  The term <em>compose</em> here is used in the mathematical sense (i.e., the <span><span class="MathJax_Preview">\cdot</span><script type="math/tex">\cdot</script></span> operator in <span><span class="MathJax_Preview">f \cdot g</span><script type="math/tex">f \cdot g</script></span>).</p>
<p>These two methods, <code class="codehilite">andThen</code> and <code class="codehilite">compose</code>, return another function, and they are generic methods with type parameter <code class="codehilite">&lt;V&gt;</code>.  Suppose we want to write a function that returns the square root of the absolute value of an int, we can write:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">double</span> <span class="nf">SquareRootAbs</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">Math</span><span class="o">.</span><span class="na">sqrt</span><span class="o">(</span><span class="n">Math</span><span class="o">.</span><span class="na">abs</span><span class="o">(</span><span class="n">x</span><span class="o">));</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></p>
<p>or, we can write either
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">Function</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">abs</span> <span class="o">=</span> <span class="n">Math</span><span class="o">::</span><span class="n">abs</span><span class="o">;</span>
<span class="n">Function</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span><span class="n">Double</span><span class="o">&gt;</span> <span class="n">sqrt</span> <span class="o">=</span> <span class="n">Math</span><span class="o">::</span><span class="n">sqrt</span><span class="o">;</span>
<span class="n">applyList</span><span class="o">(</span><span class="n">list</span><span class="o">,</span> <span class="n">abs</span><span class="o">.</span><span class="na">andThen</span><span class="o">(</span><span class="n">sqrt</span><span class="o">))</span>
</pre></div>
</td></tr></table></p>
<p>or 
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">sqrt</span><span class="o">.</span><span class="na">compose</span><span class="o">(</span><span class="n">abs</span><span class="o">)</span>
<span class="n">applyList</span><span class="o">(</span><span class="n">list</span><span class="o">,</span> <span class="n">sqrt</span><span class="o">.</span><span class="na">compose</span><span class="o">(</span><span class="n">abs</span><span class="o">))</span>
</pre></div>
</td></tr></table></p>
<p>But isn't writing the plain old method <code class="codehilite">SquareRootAbs()</code> clearer?  Why bother with <code class="codehilite">Function</code>?  The difference is that, <code class="codehilite">SquareRootAbs()</code> has to be written before we compile our code, and is fixed once we compile.  Using the <code class="codehilite">Function</code> interface, we can compose functions at <em>run time</em>, dynamically as needed! </p>
<div class="admonition note">
<p class="admonition-title">In other languages</p>
<p>Lambda expression and <code class="codehilite">Function</code>s are introduced in Java only recently in Java 8, and still relies on classes and interfaces internally to implement them.  As such, despite the elegance and beauty of pure functions, the syntax for it in Java is neither elegant nor pretty.  Take Haskell, a pure functional programming language, for example.  To compose two functions, we can use the <code class="codehilite">.</code> operator: <code class="codehilite">sqrt . abs</code></p>
</div>
<h3 id="generics-revisited-pecs">Generics Revisited: PECS</h3>
<p>We will see many functional generic interfaces with bounded wildcards, so it is worth to spend a little more time to understand what is going on here. Take <code class="codehilite">andThen</code> for example:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">default</span> <span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;</span> <span class="n">Function</span><span class="o">&lt;</span><span class="n">T</span><span class="o">,</span><span class="n">V</span><span class="o">&gt;</span> <span class="nf">andThen</span><span class="o">(</span><span class="n">Function</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="n">R</span><span class="o">,?</span> <span class="kd">extends</span> <span class="n">V</span><span class="o">&gt;</span> <span class="n">after</span><span class="o">);</span>
</pre></div>
</td></tr></table>

<p>which is a method in the interface <code class="codehilite">Function&lt;T,R&gt;</code>.  The method declaration would be clearer if it is written as
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">default</span> <span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;</span> <span class="n">Function</span><span class="o">&lt;</span><span class="n">T</span><span class="o">,</span><span class="n">V</span><span class="o">&gt;</span> <span class="nf">andThen</span><span class="o">(</span><span class="n">Function</span><span class="o">&lt;</span><span class="n">R</span><span class="o">,</span> <span class="n">V</span><span class="o">&gt;</span> <span class="n">after</span><span class="o">);</span>
</pre></div>
</td></tr></table></p>
<p>Here, composing a function <span><span class="MathJax_Preview">T :\rightarrow R</span><script type="math/tex">T :\rightarrow R</script></span> followed by <span><span class="MathJax_Preview">R :\rightarrow V</span><script type="math/tex">R :\rightarrow V</script></span> gives us a function <span><span class="MathJax_Preview">T \rightarrow V</span><script type="math/tex">T \rightarrow V</script></span>.  The issue with this <code class="codehilite">andThen</code> declaration, is that it is not very general.  The argument <code class="codehilite">after</code> must be exactly a function with argument type <span><span class="MathJax_Preview">R</span><script type="math/tex">R</script></span> and return type <span><span class="MathJax_Preview">V</span><script type="math/tex">V</script></span>.  </p>
<p>We can make the method more general, but allowing it to take a function with <code class="codehilite">R</code> or any superclass of <code class="codehilite">R</code> as input -- surely if the function can take in a superclass of <code class="codehilite">R</code>, it can take in <code class="codehilite">R</code>.   Thus, we can relax input type, or what the function <em>consumes</em>, from <code class="codehilite">R</code> to <code class="codehilite">? super R</code>.</p>
<p>Similarly, if we are expecting the function <code class="codehilite">after</code> to return a more general type <code class="codehilite">V</code>, it is fine if it returns <code class="codehilite">V</code> or a subclass of <code class="codehilite">V</code>.  Thus, we can relax the return type, or what the function <em>produces</em>, from <code class="codehilite">V</code> to <code class="codehilite">? extends V</code>.</p>
<p>Both are widening type conversions that are safe.  </p>
<p>This introduces us to a principle of using generics, with a mnemonic "producer <code class="codehilite">extends</code>; consumer <code class="codehilite">super</code>", or PECS, for short.</p>
<h2 id="other-functions">Other Functions</h2>
<p>Java 8 package <code class="codehilite">java.util.function</code> provides other useful interfaces, including:</p>
<ul>
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html"><code class="codehilite">Predicate&lt;T&gt;</code></a> with a <code class="codehilite">boolean test(T t)</code> method </li>
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html"><code class="codehilite">Supplier&lt;T&gt;</code></a> with a <code class="codehilite">T get()</code> method</li>
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html"><code class="codehilite">Consumer&lt;T&gt;</code></a> with a <code class="codehilite">void accept(T t)</code> method</li>
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/BiFunction.html"><code class="codehilite">BiFunction&lt;T,U,R&gt;</code></a> with a <code class="codehilite">R apply(T t, U u)</code> method</li>
</ul>
<p>Other variations that involve primitive types are also provided.</p>
<p>Here are some examples of how these types are used:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">Predicate</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">isEven</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-&gt;</span> <span class="o">(</span><span class="n">x</span> <span class="o">%</span> <span class="mi">2</span><span class="o">)</span> <span class="o">==</span> <span class="mi">0</span><span class="o">;</span> 

<span class="n">Random</span> <span class="n">rng</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Random</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
<span class="n">Supplier</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">randomInteger</span> <span class="o">=</span> <span class="o">()</span> <span class="o">-&gt;</span> <span class="n">rng</span><span class="o">.</span><span class="na">nextInt</span><span class="o">();</span> 

<span class="n">Consumer</span><span class="o">&lt;</span><span class="n">Boolean</span><span class="o">&gt;</span> <span class="n">printer</span> <span class="o">=</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">;</span> 

<span class="n">printer</span><span class="o">.</span><span class="na">accept</span><span class="o">(</span><span class="n">isEven</span><span class="o">.</span><span class="na">test</span><span class="o">(</span><span class="n">randomInteger</span><span class="o">.</span><span class="na">get</span><span class="o">()));</span>
</pre></div>
</td></tr></table></p>
<div class="admonition note">
<p class="admonition-title">Impure Functions</p>
<p>Since we use a random number generator, <code class="codehilite">randomInteger</code> is not a pure function -- invoking it changes the internal state of the random number generator, causing it to give us a different number the next time it is invoked.  So is the function <code class="codehilite">printer</code>, which causes a side effect of having something printed on the standard output.  While there are ways to generate random numbers and perform I/O in functional way, I prefer to keep things simple in CS2030 and use random generator and I/O in the traditional way when we explore functional-style programming.  We should still isolate these non-pure functions with clear variable names so that the intention of the program is clear.</p>
</div>
<h2 id="curried-functions">Curried Functions</h2>
<p>Functions have an <em>arity</em>.  The <code class="codehilite">Function</code> interface is for unary functions that take in a single argument; the <code class="codehilite">BiFunction</code> inteface for binary functions, with two arguments.  But we can have functions that take more than two arguments.  We can, however, build functions that take in multiple arguments with only unary functions.   Let's look at this mathematically first.  Consider a binary function <span><span class="MathJax_Preview">f: (X, Y) \rightarrow Z</span><script type="math/tex">f: (X, Y) \rightarrow Z</script></span>.  We can introduce <span><span class="MathJax_Preview">F</span><script type="math/tex">F</script></span> as a set of all functions <span><span class="MathJax_Preview">f': Y \rightarrow Z</span><script type="math/tex">f': Y \rightarrow Z</script></span>, and rewrite <span><span class="MathJax_Preview">f</span><script type="math/tex">f</script></span> as <span><span class="MathJax_Preview">f: X \rightarrow F</span><script type="math/tex">f: X \rightarrow F</script></span>, of <span><span class="MathJax_Preview">f: X \rightarrow Y \rightarrow Z</span><script type="math/tex">f: X \rightarrow Y \rightarrow Z</script></span>.</p>
<p>A trivial example for this is the <code class="codehilite">add</code> method that adds two <code class="codehilite">int</code> values. 
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">int</span> <span class="nf">add</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">,</span> <span class="kt">int</span> <span class="n">y</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></p>
<p>This can be written as
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">Function</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span> <span class="n">Function</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;&gt;</span> <span class="n">add</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-&gt;</span> <span class="n">y</span> <span class="o">-&gt;</span> <span class="o">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="o">);</span>
</pre></div>
</td></tr></table></p>
<p>To calcualte 1 + 1, we call
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">add</span><span class="o">.</span><span class="na">apply</span><span class="o">(</span><span class="mi">1</span><span class="o">).</span><span class="na">apply</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
</pre></div>
</td></tr></table></p>
<p>Let's break it down a little, <code class="codehilite">add</code> is a function that takes in an <code class="codehilite">Integer</code> object and returns a unary <code class="codehilite">Function</code> over <code class="codehilite">Integer</code>.  So <code class="codehilite">add.apply(1)</code> returns the function <code class="codehilite">y -&gt; 1 + y</code>.  We could assign this to a variable:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">Function</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">incr</span> <span class="o">=</span> <span class="n">add</span><span class="o">.</span><span class="na">apply</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
</pre></div>
</td></tr></table></p>
<p>Here is the place where you need to change how you think: <code class="codehilite">add</code> is not a function that takes two arguments and returns a value.  It is a <em>higher-order function</em> that takes in a single argument, and return another function.</p>
<p>The technique that translates a general <span><span class="MathJax_Preview">n</span><script type="math/tex">n</script></span>-ary function to a sequence of <span><span class="MathJax_Preview">n</span><script type="math/tex">n</script></span> unary functions is called <em>currying</em>.  After currying, we have a sequence of <em>curried</em> functions.  </p>
<div class="admonition note">
<p class="admonition-title">Curry</p>
<p>Currying is not related to food, but rather is named after computer scientist Haskell Curry, who popularized the technique.</p>
</div>
<p>Again, you might question why do we need this?  We can simply call <code class="codehilite">add(1, 1)</code>, instead of <code class="codehilite">add.apply(1).apply(1)</code>?  Well, the verbosity is the fault of Java instead of functional programming techniques.  Other languages like Haskell or Scala have much simpler syntax (e.g., <code class="codehilite">add 1 1</code> or <code class="codehilite">add(1)(1)</code>).  </p>
<p>If you get past the verbosity, there is another reason why currying is cool.  Consider <code class="codehilite">add(1, 1)</code> -- we have to have both arguments available at the same time to compute the function.  With currying, we no longer have to.  We can evaluate the different arguments at a different time (as <code class="codehilite">incr</code> example above).  This feature is useful in cases where some arguments are not available until later.  We can <em>partially apply</em> a function first.  This is also useful if one of the arguments does not change often, or is expensive to compute.  We can save the partial results as a function and continue applying later.</p>
<p>In the former case, we can save the context of a function and carry it around, avoiding the need for multiple parameters, leading to clearer code and fewer states to keep.  </p>
<p>Let's go back to the <code class="codehilite">RandomGenerator</code> example from your labs below</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">double</span> <span class="nf">randomExponentialValue</span><span class="o">(</span><span class="n">Random</span> <span class="n">rng</span><span class="o">,</span> <span class="kt">double</span> <span class="n">rate</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">return</span> <span class="o">-</span><span class="n">Math</span><span class="o">.</span><span class="na">log</span><span class="o">(</span><span class="n">rng</span><span class="o">.</span><span class="na">nextDouble</span><span class="o">())</span> <span class="o">/</span> <span class="n">rate</span><span class="o">;</span>
<span class="o">}</span>

<span class="kt">double</span> <span class="nf">generateServiceTime</span><span class="o">()</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">randomExponentialValue</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">rngService</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">serviceRate</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<p>In the <code class="codehilite">RandomGenerator</code> class, we need to keep two states, a <code class="codehilite">Random</code> object <code class="codehilite">rngServer</code>, and a double <code class="codehilite">serviceRate</code> to generate the service time required for a customer.  These states, however, does not change.</p>
<p>Or we could just keep a field <code class="codehilite">serviceTimeGenerator</code> in <code class="codehilite">RandomGenerator</code> with the type <code class="codehilite">Supplier&lt;Double&gt;</code>, which is a partially applied version of <code class="codehilite">randomExponentialValue</code>.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">Function</span><span class="o">&lt;</span><span class="n">Random</span><span class="o">,</span> <span class="n">Function</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">,</span> <span class="n">Supplier</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;&gt;&gt;</span> <span class="n">randomExponentialValue</span> <span class="o">=</span> 
    <span class="n">rng</span> <span class="o">-&gt;</span> <span class="n">rate</span> <span class="o">-&gt;</span> <span class="o">()</span> <span class="o">-&gt;</span> <span class="o">-</span><span class="n">Math</span><span class="o">.</span><span class="na">log</span><span class="o">(</span><span class="n">rng</span><span class="o">.</span><span class="na">nextDouble</span><span class="o">())</span> <span class="o">/</span> <span class="n">rate</span><span class="o">;</span>
<span class="n">Supplier</span><span class="o">&lt;</span> <span class="n">Double</span><span class="o">&gt;</span> <span class="n">serviceTimeGenerator</span> <span class="o">=</span> <span class="n">randomExponentialValue</span><span class="o">.</span><span class="na">apply</span><span class="o">(</span><span class="n">rngService</span><span class="o">).</span><span class="na">apply</span><span class="o">(</span><span class="n">rate</span><span class="o">);</span>
</pre></div>
</td></tr></table>

<p>We can then call <code class="codehilite">RandomGenerator.serviceTimeGenerator.get()</code> to get the next service time.</p>
<h2 id="exercise">Exercise</h2>
<ol>
<li>
<p>Which of the following are pure functions?</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">int</span> <span class="nf">fff</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="n">IllegalArgumentException</span><span class="o">();</span>
  <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
<span class="o">}</span>

<span class="kt">int</span> <span class="nf">ggg</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
  <span class="k">return</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
<span class="o">}</span>

<span class="kt">int</span> <span class="nf">hhh</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">return</span> <span class="k">new</span> <span class="n">Random</span><span class="o">().</span><span class="na">nextInt</span><span class="o">()</span> <span class="o">+</span> <span class="n">i</span><span class="o">;</span>
<span class="o">}</span>

<span class="kt">int</span> <span class="nf">jjj</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">Math</span><span class="o">.</span><span class="na">abs</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

</li>
<li>
<p>The method <code class="codehilite">and</code> below takes in two <code class="codehilite">Predicate</code> objects <code class="codehilite">p1</code> and <code class="codehilite">p2</code> and returns a new <code class="codehilite">Predicate</code> that evaluates to <code class="codehilite">true</code> if and only if both <code class="codehilite">p1</code> and <code class="codehilite">p2</code> evaluate to <code class="codehilite">true</code>.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">Predicate</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="nf">and</span><span class="o">(</span><span class="n">Predicate</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">p1</span><span class="o">,</span> <span class="n">Predicate</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">p2</span><span class="o">)</span> <span class="o">{</span>
  <span class="c1">// TODO</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<p>Fill in the body of the method <code class="codehilite">and</code></p>
</li>
<li>
<p>Java implements lambda expressions as anonymous classes.  Suppose we have the following lambda expression <code class="codehilite">Function&lt;String,Integer&gt;</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>str -&gt; str.indexOf(&#39; &#39;)
</pre></div>
</td></tr></table>

<p>Write the equivalent anonymous class for the expression above.</p>
</li>
<li>
<p>Consider the lambda expression:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>x -&gt; y -&gt; z -&gt; f(x,y,z)
</pre></div>
</td></tr></table>

<p>where <code class="codehilite">x</code>, <code class="codehilite">y</code>, <code class="codehilite">z</code> are of some type <code class="codehilite">T</code> and <code class="codehilite">f</code> returns a value of type <code class="codehilite">R</code>.</p>
<p>(a) What is the type of the lambda expression above?</p>
<p>(b) Suppose that the lambda expression above is assigned to a variable <code class="codehilite">exp</code>.  Given three variables <code class="codehilite">x</code>, <code class="codehilite">y</code>, and <code class="codehilite">z</code>, show how you can evaluate the lambda expression with <code class="codehilite">x</code>, <code class="codehilite">y</code>, <code class="codehilite">z</code> to obtain <code class="codehilite">f(x,y,z)</code>.</p>
</li>
<li>
<p>Write a class <code class="codehilite">LambdaList&lt;T&gt;</code> that is <em>immutable</em> and supports <code class="codehilite">generate</code>, <code class="codehilite">map</code>, <code class="codehilite">filter</code>, <code class="codehilite">reduce</code>, and <code class="codehilite">forEach</code>, methods.  The skeleton is given below.  The <code class="codehilite">map</code> method, similar to what you see in the lecture, is given.  The static method <code class="codehilite">of</code> can be used to build the class and is given as well.</p>
<p><code class="codehilite">of</code> constructs the list from some number of arguments.  We use the Java <em>varargs</em> construct here <code class="codehilite">T... varargs</code>, which is a short cut for creating and passing in an array.
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">LambdaList</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">4</span><span class="o">);</span>
<span class="n">LambdaList</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">&quot;one&quot;</span><span class="o">,</span> <span class="s">&quot;three&quot;</span><span class="o">,</span> <span class="s">&quot;four&quot;</span><span class="o">);</span>
</pre></div>
</td></tr></table></p>
<p><code class="codehilite">generate</code> is a static method that returns a new list with <code class="codehilite">count</code> elements, where each element in the list is generated with a given Supplier <code class="codehilite">s</code>.  For example
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">LambdaList</span><span class="o">.</span><span class="na">generate</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span> <span class="n">rng</span><span class="o">::</span><span class="n">nextInt</span><span class="o">);</span>
</pre></div>
</td></tr></table></p>
<p><code class="codehilite">filter</code> returns a new list, containing only elements in the list that pass the predicate test (i.e., the predicate returns true).
Example:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">LambdaList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="n">LambdaList</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">&quot;show&quot;</span><span class="o">,</span> <span class="s">&quot;me&quot;</span><span class="o">,</span> <span class="s">&quot;my&quot;</span><span class="o">,</span> <span class="s">&quot;place&quot;</span><span class="o">,</span> <span class="s">&quot;in&quot;</span><span class="o">,</span> <span class="s">&quot;all&quot;</span><span class="o">,</span> <span class="s">&quot;this&quot;</span><span class="o">);</span>
<span class="n">list</span><span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">x</span> <span class="o">-&gt;</span> <span class="n">x</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">==</span> <span class="mi">2</span><span class="o">);</span> <span class="c1">// returns [me, my, in]</span>
</pre></div>
</td></tr></table></p>
<p><code class="codehilite">reduce</code> takes in a <code class="codehilite">BiFunction</code> that is called the <em>accumulator</em> -- it basically goes through the list, and accumulate all the values into one.  The accumulator requires an initial value to start with.  This initial value is the <em>identity</em> of the <code class="codehilite">BiFunction</code> (in mathematical notation, for identity <span><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span>, <span><span class="MathJax_Preview">f(i, x) = x</span><script type="math/tex">f(i, x) = x</script></span> for any <span><span class="MathJax_Preview">x</span><script type="math/tex">x</script></span>).</p>
<p>Example:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">LambdaList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="n">LambdaList</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
<span class="n">list</span><span class="o">.</span><span class="na">reduce</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="o">(</span><span class="n">prod</span><span class="o">,</span> <span class="n">x</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">prod</span> <span class="o">*</span> <span class="n">x</span><span class="o">);</span> <span class="c1">// returns 24</span>
</pre></div>
</td></tr></table></p>
<p><code class="codehilite">forEach</code> consumes each element in the list with a consumer. 
Example:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">LambdaList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="n">LambdaList</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
<span class="n">list</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>
</pre></div>
</td></tr></table></p>
<p>The skeleton code is given:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.function.BiFunction</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.function.Consumer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.function.Function</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.function.Predicate</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.function.Supplier</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">LambdaList</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">;</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">LambdaList</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="nf">of</span><span class="o">(</span><span class="n">T</span><span class="o">...</span> <span class="n">varargs</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
    <span class="k">for</span> <span class="o">(</span><span class="n">T</span> <span class="n">e</span> <span class="o">:</span> <span class="n">varargs</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">e</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="k">new</span> <span class="n">LambdaList</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;(</span><span class="n">list</span><span class="o">);</span>
  <span class="o">}</span>  

  <span class="kd">private</span> <span class="nf">LambdaList</span><span class="o">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">list</span> <span class="o">=</span> <span class="n">list</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">LambdaList</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="nf">generate</span><span class="o">(</span><span class="kt">int</span> <span class="n">count</span><span class="o">,</span> <span class="n">Supplier</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// TODO</span>
    <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;</span> <span class="n">LambdaList</span><span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;</span> <span class="nf">map</span><span class="o">(</span><span class="n">Function</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="n">T</span><span class="o">,</span> <span class="o">?</span> <span class="kd">extends</span> <span class="n">V</span><span class="o">&gt;</span> <span class="n">f</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;</span> <span class="n">newList</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;();</span>
    <span class="k">for</span> <span class="o">(</span><span class="n">T</span> <span class="n">i</span><span class="o">:</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">newList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">f</span><span class="o">.</span><span class="na">apply</span><span class="o">(</span><span class="n">i</span><span class="o">));</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="k">new</span> <span class="n">LambdaList</span><span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;(</span><span class="n">newList</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="o">&lt;</span><span class="n">U</span><span class="o">&gt;</span> <span class="n">U</span> <span class="nf">reduce</span><span class="o">(</span><span class="n">U</span> <span class="n">identity</span><span class="o">,</span> <span class="n">BiFunction</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="n">U</span><span class="o">,</span> <span class="o">?</span> <span class="kd">super</span> <span class="n">T</span><span class="o">,</span> <span class="o">?</span> <span class="kd">extends</span> <span class="n">U</span><span class="o">&gt;</span> <span class="n">accumulator</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// TODO</span>
    <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="n">LambdaList</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="nf">filter</span><span class="o">(</span><span class="n">Predicate</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="n">T</span><span class="o">&gt;</span> <span class="n">predicate</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// TODO</span>
    <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">forEach</span><span class="o">(</span><span class="n">Consumer</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="n">T</span><span class="o">&gt;</span> <span class="n">action</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// TODO</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">list</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

</li>
</ol>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../lec06/index.html" title="6. hashCode, Nested Class, enum" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                6. hashCode, Nested Class, enum
              </span>
            </div>
          </a>
        
        
          <a href="../lec08/index.html" title="8. Streams" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                8. Streams
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright by Wei Tsang Ooi, Department of Computer Science, National University of Singapore 2018
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.a59e2a89.js"></script>
      
      <script>app.initialize({version:"0.17.5",url:{base:".."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
    
      
    
  </body>
</html>