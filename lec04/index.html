



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://nus-cs2030.github.io/1718-s2/lec04/index.html">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.5, mkdocs-material-2.9.2">
    
    
      
        <title>4. Types, Memory, Exception - CS2030 Programming Methodology II</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.ba0fd1a6.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Gentium+Book+Basic">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
    
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#lecture-4-types-memory-exception" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://nus-cs2030.github.io/1718-s2" title="CS2030 Programming Methodology II" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                CS2030 Programming Methodology II
              </span>
              <span class="md-header-nav__topic">
                4. Types, Memory, Exception
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/nus-cs2030/1718-s2/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    CS2030 Programming Methodology II
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/nus-cs2030/1718-s2/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../index.html" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      General
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        General
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../about/index.html" title="About" class="md-nav__link">
      About
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../prereqs/index.html" title="Prerequisites" class="md-nav__link">
      Prerequisites
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../policies/index.html" title="Policies" class="md-nav__link">
      Policies
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../schedule/index.html" title="Schedule" class="md-nav__link">
      Schedule
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../readings/index.html" title="Readings" class="md-nav__link">
      Readings
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../final/index.html" title="Final" class="md-nav__link">
      Final
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../midterm/index.html" title="Midterm" class="md-nav__link">
      Midterm
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Labs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Labs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../lab0/index.html" title="0. Warm Up" class="md-nav__link">
      0. Warm Up
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab1a/index.html" title="1a. Simulator v1.0" class="md-nav__link">
      1a. Simulator v1.0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab1b/index.html" title="1b. Simulator v1.1" class="md-nav__link">
      1b. Simulator v1.1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab2a/index.html" title="2a. Simulator v1.2" class="md-nav__link">
      2a. Simulator v1.2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab2b/index.html" title="2b. Simulator v1.3" class="md-nav__link">
      2b. Simulator v1.3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab3/index.html" title="3.  Infinite List" class="md-nav__link">
      3.  Infinite List
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab4a/index.html" title="4a. Simulator v2.0" class="md-nav__link">
      4a. Simulator v2.0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab4b/index.html" title="4b. Simulator v2.1" class="md-nav__link">
      4b. Simulator v2.1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab5/index.html" title="5.  Matrix Multiplication" class="md-nav__link">
      5.  Matrix Multiplication
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab6/index.html" title="6.  Async Web API" class="md-nav__link">
      6.  Async Web API
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8" checked>
    
    <label class="md-nav__link" for="nav-8">
      Lectures
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Lectures
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../lec01/index.html" title="1. Abstraction & Encapsulation" class="md-nav__link">
      1. Abstraction & Encapsulation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec02/index.html" title="2. Interface, Inheritance & Polymorphism" class="md-nav__link">
      2. Interface, Inheritance & Polymorphism
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec03/index.html" title="3. More on Inheritance" class="md-nav__link">
      3. More on Inheritance
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        4. Types, Memory, Exception
      </label>
    
    <a href="index.html" title="4. Types, Memory, Exception" class="md-nav__link md-nav__link--active">
      4. Types, Memory, Exception
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#learning-outcomes" title="Learning Outcomes" class="md-nav__link">
    Learning Outcomes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#java-and-javac" title="java and javac" class="md-nav__link">
    java and javac
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#compile-time-vs-run-time" title="Compile Time vs Run Time" class="md-nav__link">
    Compile Time vs Run Time
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jshell" title="jshell" class="md-nav__link">
    jshell
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-types" title="1. Types" class="md-nav__link">
    1. Types
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#type-conversion" title="Type Conversion" class="md-nav__link">
    Type Conversion
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subtyping" title="Subtyping" class="md-nav__link">
    Subtyping
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variance-of-types" title="Variance of Types" class="md-nav__link">
    Variance of Types
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-heap-and-stack" title="2. Heap and Stack" class="md-nav__link">
    2. Heap and Stack
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#call-stack" title="Call Stack" class="md-nav__link">
    Call Stack
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-exceptions" title="3. Exceptions" class="md-nav__link">
    3. Exceptions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#checked-exceptions" title="Checked Exceptions" class="md-nav__link">
    Checked Exceptions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generating-exception" title="Generating Exception" class="md-nav__link">
    Generating Exception
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#overriding-method-that-throws-exceptions" title="Overriding Method that Throws Exceptions" class="md-nav__link">
    Overriding Method that Throws Exceptions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#good-practices-for-exception-handling" title="Good Practices for Exception Handling" class="md-nav__link">
    Good Practices for Exception Handling
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#catch-exceptions-to-clean-up" title="Catch Exceptions to Clean Up" class="md-nav__link">
    Catch Exceptions to Clean Up
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#catch-all-exception-is-bad" title="Catch All Exception is Bad" class="md-nav__link">
    Catch All Exception is Bad
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#overreacting" title="Overreacting" class="md-nav__link">
    Overreacting
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#do-not-break-abstraction-barrier" title="Do Not Break Abstraction Barrier" class="md-nav__link">
    Do Not Break Abstraction Barrier
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercise" title="Exercise" class="md-nav__link">
    Exercise
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec05/index.html" title="5. Generics and Collections" class="md-nav__link">
      5. Generics and Collections
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec06/index.html" title="6. hashCode, Nested Class, enum" class="md-nav__link">
      6. hashCode, Nested Class, enum
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec07/index.html" title="7. Functions" class="md-nav__link">
      7. Functions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec08/index.html" title="8. Streams" class="md-nav__link">
      8. Streams
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec09/index.html" title="9. FP Patterns" class="md-nav__link">
      9. FP Patterns
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec10/index.html" title="10. Parallel streams" class="md-nav__link">
      10. Parallel streams
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec11/index.html" title="11. Asynchronous" class="md-nav__link">
      11. Asynchronous
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../monad/index.html" title="Extra. Build a Monad" class="md-nav__link">
      Extra. Build a Monad
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../review-questions/index.html" title="Extra. Review Questions" class="md-nav__link">
      Extra. Review Questions
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../style/index.html" title="Coding Style" class="md-nav__link">
      Coding Style
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Software/Tools
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Software/Tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../jdk/index.html" title="Java" class="md-nav__link">
      Java
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../javadoc/index.html" title="Javadoc" class="md-nav__link">
      Javadoc
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../unix/index.html" title="UNIX" class="md-nav__link">
      UNIX
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vim/index.html" title="Vim" class="md-nav__link">
      Vim
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#learning-outcomes" title="Learning Outcomes" class="md-nav__link">
    Learning Outcomes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#java-and-javac" title="java and javac" class="md-nav__link">
    java and javac
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#compile-time-vs-run-time" title="Compile Time vs Run Time" class="md-nav__link">
    Compile Time vs Run Time
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jshell" title="jshell" class="md-nav__link">
    jshell
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-types" title="1. Types" class="md-nav__link">
    1. Types
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#type-conversion" title="Type Conversion" class="md-nav__link">
    Type Conversion
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subtyping" title="Subtyping" class="md-nav__link">
    Subtyping
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variance-of-types" title="Variance of Types" class="md-nav__link">
    Variance of Types
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-heap-and-stack" title="2. Heap and Stack" class="md-nav__link">
    2. Heap and Stack
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#call-stack" title="Call Stack" class="md-nav__link">
    Call Stack
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-exceptions" title="3. Exceptions" class="md-nav__link">
    3. Exceptions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#checked-exceptions" title="Checked Exceptions" class="md-nav__link">
    Checked Exceptions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generating-exception" title="Generating Exception" class="md-nav__link">
    Generating Exception
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#overriding-method-that-throws-exceptions" title="Overriding Method that Throws Exceptions" class="md-nav__link">
    Overriding Method that Throws Exceptions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#good-practices-for-exception-handling" title="Good Practices for Exception Handling" class="md-nav__link">
    Good Practices for Exception Handling
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#catch-exceptions-to-clean-up" title="Catch Exceptions to Clean Up" class="md-nav__link">
    Catch Exceptions to Clean Up
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#catch-all-exception-is-bad" title="Catch All Exception is Bad" class="md-nav__link">
    Catch All Exception is Bad
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#overreacting" title="Overreacting" class="md-nav__link">
    Overreacting
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#do-not-break-abstraction-barrier" title="Do Not Break Abstraction Barrier" class="md-nav__link">
    Do Not Break Abstraction Barrier
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercise" title="Exercise" class="md-nav__link">
    Exercise
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/nus-cs2030/1718-s2/edit/master/docs/lec04.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="lecture-4-types-memory-exception">Lecture 4: Types, Memory, Exception</h1>
<h2 id="learning-outcomes">Learning Outcomes</h2>
<p>After this class, students should:</p>
<ul>
<li>understand the differences between compile time and run time</li>
<li>understand the basic rules for type conversion in Java, including the differenes between narrowing conversion and widening conversion.</li>
<li>understand the concept of subtyping in general and the subtype relations in Java</li>
<li>understand what is type covariance and that Java arrays are covariance.</li>
<li>understand when memory are allocated/deallocated from the heap vs. from the stack</li>
<li>understand the concept of call stack in JVM</li>
<li>understand how Java call by reference and call by value</li>
<li>know about the keywords <code class="codehilite">null</code>, <code class="codehilite">try</code>, <code class="codehilite">catch</code>, <code class="codehilite">finally</code>, <code class="codehilite">throw</code>, and <code class="codehilite">throws</code>.</li>
<li>appreciate why exceptions is a useful way of handling errors</li>
<li>aware of the differences between errors, unchecked exception, and checked exception in Java</li>
<li>be able to trace through the control flow of <code class="codehilite">try</code>/<code class="codehilite">catch</code>/<code class="codehilite">finally</code> block</li>
<li>how to generate an exception and create a new exception</li>
<li>not commit bad practices when using exceptions</li>
</ul>
<h2 id="java-and-javac"><code class="codehilite">java</code> and <code class="codehilite">javac</code></h2>
<p>Now that we have gone through the basic concepts of OO programming, let's take a step away from OO for the moment and look at some other important features of Java.</p>
<p>In your <a href="../lab0/index.html">Lab 0</a>, we showed you how to use <code class="codehilite">javac</code> to compile your Java program and <code class="codehilite">java</code> to execute your program.  </p>
<p><code class="codehilite">javac</code> is a <em>compiler</em>. It reads in Java source files as a string, parses the string for syntax errors, and converts the Java code into an intermediate binary format called the <em>bytecode</em>.  Bytecode is an instruction set akin to hardware instructions but is typically executed by a software interpreter.</p>
<p>This behavior is different from what <code class="codehilite">gcc</code> does for C programs.  <code class="codehilite">gcc</code> produces native machine code, corresponding to hardware instructions.  As such, a C program your <code class="codehilite">gcc</code> produced on your home machine will not run on <code class="codehilite">sunfire</code>.  </p>
<p>Java designers (led by James Gosling) wanted a language that can be compiled into a form that is platform and hardware independent, thus, they developed their own runtime environment called the Java Virtual Machine (JVM), which interprets and executes the bytecode, optimizes the execution, and manages the memory of Java programs.  Bytecode produced (the <code class="codehilite"><span class="na">.class</span></code> files) on one platform can run other platforms.</p>
<div class="admonition note">
<p class="admonition-title">Other Bytecode Languages</p>
<p>Many other programming environments offer compilation to bytecode.  Python, for instance, compiles Python code into <code class="codehilite"><span class="na">.pyc</span></code> files, which contain Python bytecode.  Facebook's HHVM compiles PHP into bytecode.  Google's V8 compiles Javascript into bytecode too.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Other JVM Languages</p>
<p>While JVM was initially designed for Java, its popularity has led to the development of other languages that compile to JVM bytecode and run on JVM, such as Clojure, Groovy, Scala and Kotlin.  </p>
</div>
<div class="admonition note">
<p class="admonition-title">Other Java Compilers</p>
<p>While we stick to the Java 9 compiler from Oracle for CS2030, there are other Java compilers: <code class="codehilite">ecj</code> is the Java compiler from Eclipse -- if you use Eclipse IDE, this is the default compiler.  <code class="codehilite">gcj</code> is the GNU Java Compiler (which has been removed from GCC 7 onwards).</p>
</div>
<p>Once you produce the <code class="codehilite"><span class="na">.class</span></code> files containing the bytecode corresponding to the code you have written, you can pass the bytecode to JVM for execution by invoking the <code class="codehilite">java</code> command.  This is when your code gets executed -- objects get created and stored in memory, methods get called, etc. </p>
<h3 id="compile-time-vs-run-time">Compile Time vs Run Time</h3>
<p>It is important to understand the difference between the two stages, compile time (when we invoke <code class="codehilite">javac</code>) and run time (when we invoke <code class="codehilite">java</code>).</p>
<p>During compile time, the compiler does not always know what value a variable will take, nor will it know the sequence of execution of the programs.  As such, the compiler opts to be conservative and only makes the decision on what it knows for sure.  We have encountered this before -- recall our discussion on late binding:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>  <span class="k">for</span> <span class="o">(</span><span class="n">Printable</span> <span class="n">o</span><span class="o">:</span> <span class="n">objs</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">o</span><span class="o">.</span><span class="na">print</span><span class="o">();</span>
  <span class="o">}</span>
</pre></div>
</td></tr></table></p>
<p>The compiler cannot always be sure what is the class of the object the variable <code class="codehilite">o</code> will refer to during runtime, and thus, it cannot be sure which version of <code class="codehilite">print</code> method will be executed.  </p>
<p>In another example, we have</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>  <span class="n">Circle</span> <span class="n">c</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Circle</span><span class="o">(</span><span class="k">new</span> <span class="n">Point</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">),</span> <span class="mi">10</span><span class="o">);</span>
  <span class="n">Printable</span> <span class="n">c2</span> <span class="o">=</span> <span class="n">c</span><span class="o">;</span>
  <span class="n">c2</span><span class="o">.</span><span class="na">getArea</span><span class="o">();</span>
</pre></div>
</td></tr></table>

<p>At compile time, <code class="codehilite">c2</code> has a type <code class="codehilite">Printable</code>, and we try to invoke <code class="codehilite">getArea</code> which is a method available in <code class="codehilite">Circle</code>, not <code class="codehilite">Printable</code>.  Even though if we trace through the three lines of code above, we (the humans) can be sure that <code class="codehilite">c2</code> is pointing to a <code class="codehilite">Circle</code> object and it is fine to call <code class="codehilite">getArea</code>, the compiler has to be conservative as it is designed to work on arbitrarily complex programs with an unknown sequence of execution.  The compiler thus does not allow us to call <code class="codehilite">c2.getArea()</code>.</p>
<h3 id="jshell"><code class="codehilite">jshell</code></h3>
<p>If we compile a program with <code class="codehilite">javac</code> and then execute it with <code class="codehilite">java</code>, we have two distinct phases.  An error reported by <code class="codehilite">javac</code> occurs during compilation and is a <em>compile time error</em>.  An error reported by <code class="codehilite">java</code> occors during run time, and is a <em>run time error</em>.  </p>
<p>If we "play" with our classes and with Java syntax using <code class="codehilite">jshell</code>, however, the differences between compile time and run time error are blurred.  <code class="codehilite">jshell</code> is an "REPL" tool, which stands for "read-eval-print loop", and it does exactly what the name says: it repeatedly reads in a Java statement, evaluates the statement, and prints out the result.  The reading step is analogous to compiling, while the evaluating and printing steps are analogous to running a program.  So, <code class="codehilite">jshell</code> produces an error message, it could be due to an error triggered by either compile time or run time.</p>
<h2 id="1-types">1. Types</h2>
<p>The above discussion brings us back to the topic of types.  Unlike C which is not type safe or  Python and Javascript which are weakly typed, Java belongs to a class of programming language which is statically typed and enforces type safety through a rich set of rules.  Understanding these rules and appreciating them is important to writing good and general Java programs, as well as picking up other statically and strongly typed programming languages.</p>
<h3 id="type-conversion">Type Conversion</h3>
<p>Sometimes a programmer knows better than the compiler the intention of the program.  In this case, it is useful for a programmer to override the compiler's decision.  One possible such override is to force the type of a variable to be something more appropriate, through <em>type casting</em>.</p>
<p>We have seen type casting in action when we discussed about type safety (see <a href="../lec01/index.html">Lecture 1</a>).  Recall that, in C, we can type cast two seemingly incompatible types to each other.  We have also seen it <a href="../lec03/index.html">last week</a> when we cast an <code class="codehilite">Object</code> variable to a <code class="codehilite">Circle</code> when we discuss overriding of the <code class="codehilite">equals()</code> method.</p>
<p>Type casting is a form of type conversion, in particular, an <em>explicit type conversion</em>. </p>
<p>Let's talk about <em>implicit type conversion</em> first.  Implicit conversion can happen in several contexts:</p>
<ul>
<li>Assignment, for instance, assigning a variable of type <code class="codehilite">Circle</code> to a variable of type `Shape.</li>
<li>Method invocation, for instance, when you pass a variable of type <code class="codehilite">Circle</code> to a method expecting <code class="codehilite">Shape</code>.</li>
<li>String conversion, when one of the operands of <code class="codehilite">+</code> is a <code class="codehilite">String</code> and the other is not, in which case it will be converted to <code class="codehilite">String</code> (by calling <code class="codehilite">toString()</code>).</li>
</ul>
<p>Suppose we have a reference type <span><span class="MathJax_Preview">S</span><script type="math/tex">S</script></span> and <span><span class="MathJax_Preview">T</span><script type="math/tex">T</script></span> is a subtype of <span><span class="MathJax_Preview">S</span><script type="math/tex">S</script></span> (denoted <span><span class="MathJax_Preview">T &lt;: S</span><script type="math/tex">T <: S</script></span>), then converting <span><span class="MathJax_Preview">T</span><script type="math/tex">T</script></span> to <span><span class="MathJax_Preview">S</span><script type="math/tex">S</script></span> is checked at compile time.  This conversion is known as <em>widening reference conversion</em>.</p>
<p>The converse is not true.  If we want to convert <span><span class="MathJax_Preview">S</span><script type="math/tex">S</script></span> to <span><span class="MathJax_Preview">T</span><script type="math/tex">T</script></span> (known as <em>narrowing reference conversion</em>), then we need explicit casting.  Such conversion is checked at run time, and it may cause an exception.  </p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">S</span> <span class="o">{</span> <span class="o">}</span>
<span class="kd">class</span> <span class="nc">T</span> <span class="kd">extends</span> <span class="n">S</span> <span class="o">{</span> <span class="o">}</span>
<span class="kd">class</span> <span class="nc">U</span> <span class="kd">extends</span> <span class="n">S</span> <span class="o">{</span> <span class="o">}</span> 

<span class="n">S</span> <span class="n">s1</span><span class="o">,</span> <span class="n">s2</span><span class="o">;</span>
<span class="n">T</span> <span class="n">t</span> <span class="o">=</span> <span class="k">new</span> <span class="n">T</span><span class="o">();</span>
<span class="n">U</span> <span class="n">u</span> <span class="o">=</span> <span class="k">new</span> <span class="n">U</span><span class="o">();</span>

<span class="n">s1</span> <span class="o">=</span> <span class="n">t</span><span class="o">;</span>  <span class="c1">// always OK since this is a widening reference conversion.</span>
<span class="n">s2</span> <span class="o">=</span> <span class="n">u</span><span class="o">;</span>  <span class="c1">// always OK since this is a widening reference conversion.</span>
<span class="n">t</span>  <span class="o">=</span> <span class="n">s1</span><span class="o">;</span> <span class="c1">// not allowed since it is a narrowing reference conversion.</span>
<span class="n">t</span>  <span class="o">=</span> <span class="o">(</span><span class="n">T</span><span class="o">)</span><span class="n">s1</span><span class="o">;</span> <span class="c1">// explicit conversion allowed by compiler, no problem during run time.</span>
<span class="n">t</span>  <span class="o">=</span> <span class="o">(</span><span class="n">T</span><span class="o">)</span><span class="n">s2</span><span class="o">;</span> <span class="c1">// explicit conversion allowed by compiler, but cause run time error.</span>
</pre></div>
</td></tr></table>

<div class="admonition note">
<p class="admonition-title">Java subtyping and conversion specification</p>
<p>We are not going through all the gory details of Java subtyping and type conversion rules.  Chapter 5 of <a href="https://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html">Java Language Specification</a> succinctly and precisely defines all the rules on this topic.  For those students who are interested, you can check it out.  Otherwise, we will discover some of the other rules along the way as we learn more about Java in practice.</p>
</div>
<h3 id="subtyping">Subtyping</h3>
<p>We have seen how subtyping works in Java: we say that if a class <span><span class="MathJax_Preview">T</span><script type="math/tex">T</script></span> extends from class <span><span class="MathJax_Preview">S</span><script type="math/tex">S</script></span> or implements interface <span><span class="MathJax_Preview">S</span><script type="math/tex">S</script></span>, <span><span class="MathJax_Preview">T</span><script type="math/tex">T</script></span> is a subtype of <span><span class="MathJax_Preview">S</span><script type="math/tex">S</script></span>.  The notion of subtyping, however, is more general than that.  In the study of programming languages, we say that <span><span class="MathJax_Preview">T</span><script type="math/tex">T</script></span> is a subtype of <span><span class="MathJax_Preview">S</span><script type="math/tex">S</script></span> if a piece of code written for variables of type <span><span class="MathJax_Preview">S</span><script type="math/tex">S</script></span> can also safely be used on variables of type <span><span class="MathJax_Preview">T</span><script type="math/tex">T</script></span>.   In the context of Java and other OO languages, inheritance and implementation of interfaces satisfy these conditions.  In other languages, however, we can create subtypes without these OO notions.  In Ada, for instance, we can create a subtype by restricting the range of values of a type.  E.g., we can create a subtype <code class="codehilite">digit</code> from the type <code class="codehilite">int</code>, restricting its value to ranging between 0 and 9.</p>
<p>With this more general notion of subtyping, we can define subtype relations between the primitive types, as follows:</p>
<p><code class="codehilite">byte</code> <span><span class="MathJax_Preview">&lt;:</span><script type="math/tex"><:</script></span> <code class="codehilite">short</code> <span><span class="MathJax_Preview">&lt;:</span><script type="math/tex"><:</script></span> <code class="codehilite">int</code> <span><span class="MathJax_Preview">&lt;:</span><script type="math/tex"><:</script></span> <code class="codehilite">long</code> <span><span class="MathJax_Preview">&lt;:</span><script type="math/tex"><:</script></span> <code class="codehilite">float</code> <span><span class="MathJax_Preview">&lt;:</span><script type="math/tex"><:</script></span> <code class="codehilite">double</code>; and <code class="codehilite">char</code> <span><span class="MathJax_Preview">&lt;:</span><script type="math/tex"><:</script></span> <code class="codehilite">int</code></p>
<p>We can also extend the notion of widening conversion and narrowing conversion to primitive types.</p>
<h3 id="variance-of-types">Variance of Types</h3>
<p>Given a type <span><span class="MathJax_Preview">T</span><script type="math/tex">T</script></span>, we can create other complex types that depend on <span><span class="MathJax_Preview">T</span><script type="math/tex">T</script></span>.  For instance, we can have an array of type <span><span class="MathJax_Preview">T</span><script type="math/tex">T</script></span>, a generic class parameterized by <span><span class="MathJax_Preview">T</span><script type="math/tex">T</script></span> (next lecture), a method that takes in <span><span class="MathJax_Preview">T</span><script type="math/tex">T</script></span> and returns <span><span class="MathJax_Preview">T</span><script type="math/tex">T</script></span>, etc.</p>
<p>The term <em>variance of types</em> refers to how these more complex types relate to each other, given the relationship between the simpler types.</p>
<p>Suppose <span><span class="MathJax_Preview">A(T)</span><script type="math/tex">A(T)</script></span> is the complex type constructed from <span><span class="MathJax_Preview">T</span><script type="math/tex">T</script></span>.  Then we say that </p>
<ul>
<li><span><span class="MathJax_Preview">A</span><script type="math/tex">A</script></span> is <em>covariant</em> if <span><span class="MathJax_Preview">T &lt;: S</span><script type="math/tex">T <: S</script></span> implies <span><span class="MathJax_Preview">A(T) &lt;: A(S)</span><script type="math/tex">A(T) <: A(S)</script></span>, </li>
<li><span><span class="MathJax_Preview">A</span><script type="math/tex">A</script></span> is <em>contravariant</em> if <span><span class="MathJax_Preview">T &lt;: S</span><script type="math/tex">T <: S</script></span> implies <span><span class="MathJax_Preview">A(S) &lt;: A(T)</span><script type="math/tex">A(S) <: A(T)</script></span>,</li>
<li><span><span class="MathJax_Preview">A</span><script type="math/tex">A</script></span> is <em>bivariant</em> if it is both covariant and contravariant, and</li>
<li><span><span class="MathJax_Preview">A</span><script type="math/tex">A</script></span> is <em>invariant</em> if it is neither covariant nor contravariant.</li>
</ul>
<p>For example, in Java, arrays (of reference type) are covariant.  This means that, <code class="codehilite">T[]</code> is a subtype of <code class="codehilite">S[]</code>, if <code class="codehilite">T</code> is a subtype of <code class="codehilite">S</code>.  Based on the type conversion rule, it is OK to assign any array of reference type to an array of <code class="codehilite">Object</code> objects, or pass an array of reference type to a method that expects an array of <code class="codehilite">Object</code> objects.  This decision (of making Java arrays covariant) makes it possible to write very generic method that operates on array, as provided by the Java utility class <a href="https://docs.oracle.com/javase/9/docs/api/java/util/Arrays.html"><code class="codehilite">Arrays</code></a>.<sup id="fnref:1"><a class="footnote-ref" href="#fn:1" rel="footnote">1</a></sup></p>
<p>We will see examples of complex type <span><span class="MathJax_Preview">A</span><script type="math/tex">A</script></span> that is invariant and contravariant later in this module.</p>
<h2 id="2-heap-and-stack">2. Heap and Stack</h2>
<p>As mentioned earlier, JVM manages memory of Java programs while its bytecode instructions are interpreted and executed.  Different JVM implementation may implement these differently, but typically a JVM implementation partitions the memory into several regions, including
- <em>method area</em> for storing the code for the methods;
- <em>metaspace</em> for storing meta information about classes;
- <em>heap</em> for storing dynamically allocated objects;
- <em>stack</em> for local variables and call frames.</p>
<p>Since the concepts of heap and stack are common to all execution environments (either based on bytecode or machine code), we will focus on them here.</p>
<p>The <em>heap</em> is the region in memory where all objects are allocated in and stored, while the <em>stack</em> is the region where all variables (including primitive types and object references) are allocated in and stored.</p>
<p>Considers the following two lines of code.
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">Circle</span> <span class="n">c</span><span class="o">;</span>
<span class="n">c</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Circle</span><span class="o">(</span><span class="k">new</span> <span class="n">Point</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">),</span> <span class="mi">8</span><span class="o">);</span>
</pre></div>
</td></tr></table>
Line 1 declares a variable <code class="codehilite">c</code>.  When Java executes this line of code, it allocates some memory space for an object reference for <code class="codehilite">c</code>, the content is initialized to <code class="codehilite">null</code>.  Since <code class="codehilite">c</code> is a variable, it resides in the stack.</p>
<div class="admonition note">
<p class="admonition-title"><code class="codehilite">null</code> in Java</p>
<p><code class="codehilite">null</code> is a special value for the object reference, that signifies that this reference is not pointing to any object.  This is similar to the <code class="codehilite">null</code> in Javascript, <code class="codehilite">NULL</code> macro in C, <code class="codehilite">nullptr</code> in C++11, <code class="codehilite">None</code> in Python, <code class="codehilite">nil</code> in Objective-C.  (Again, you see here computer scientists just can't agree on names!)  <a href="https://en.wikipedia.org/wiki/Tony_Hoare">Sir Tony Hoare</a> (who also invented quicksort) famously apologized for inventing the null pointer.  He calls it his billion-dollar mistake.</p>
</div>
<p>Line 2 creates a new Circle object.  When Java executes this line of code, it allocates some memory space for a <code class="codehilite">Circle</code> object on the heap.  The memory address of this memory space becomes the reference of the object and is assigned to the variable <code class="codehilite">c</code>.</p>
<p>This is shown in the figure below<sup id="fnref:2"><a class="footnote-ref" href="#fn:2" rel="footnote">2</a></sup>.</p>
<p><img alt="stack-and-heap" src="../figures/stack-and-heap/stack-and-heap.001.png" /></p>
<p>The first argument to <code class="codehilite">Circle</code> constructor is also an object, so to be more precise, when Line 2 above is executed, a <code class="codehilite">Point</code> object is also created and allocated on the heap.  So the field <code class="codehilite">c</code> inside <code class="codehilite">Circle</code> is actually a reference to this object.</p>
<p><img alt="stack-and-heap" src="../figures/stack-and-heap/stack-and-heap.002.png" /></p>
<p>Now, let's look at a slightly different example.<br />
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">Circle</span> <span class="n">c</span><span class="o">;</span>
<span class="n">Point</span> <span class="n">center</span><span class="o">;</span>
<span class="kt">double</span> <span class="n">radius</span><span class="o">;</span>
<span class="n">radius</span> <span class="o">=</span> <span class="mi">8</span><span class="o">;</span>
<span class="n">center</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Point</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
<span class="n">c</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Circle</span><span class="o">(</span><span class="n">center</span><span class="o">,</span> <span class="n">radius</span><span class="o">);</span>
</pre></div>
</td></tr></table></p>
<p>In the second example, we have three variables, <code class="codehilite">c</code>, <code class="codehilite">center</code>, and <code class="codehilite">radius</code> .  Lines 1-3 declare the variables, and as a result, we have three variables allocated on the stack.  Recall that for object references, they are initialized to <code class="codehilite">null</code>.  Primitive type variables (e.g., <code class="codehilite">radius</code>) are initialized to 0.</p>
<p><img alt="stack-and-heap" src="../figures/stack-and-heap/stack-and-heap.003.png" /></p>
<p>After Lines 4-6, we have:</p>
<p><img alt="stack-and-heap" src="../figures/stack-and-heap/stack-and-heap.004.png" /></p>
<h3 id="call-stack">Call Stack</h3>
<p>Now, let's look at what happens when we invoke a method.  Take the <code class="codehilite">distanceTo</code> method in <code class="codehilite">Point</code> as an example:</p>
<p><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">Point</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="kt">double</span> <span class="n">x</span><span class="o">;</span>
  <span class="kd">private</span> <span class="kt">double</span> <span class="n">y</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kt">double</span> <span class="nf">distanceTo</span><span class="o">(</span><span class="n">Point</span> <span class="n">q</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">Math</span><span class="o">.</span><span class="na">sqrt</span><span class="o">((</span><span class="n">q</span><span class="o">.</span><span class="na">x</span> <span class="o">-</span> <span class="k">this</span><span class="o">.</span><span class="na">x</span><span class="o">)*(</span><span class="n">q</span><span class="o">.</span><span class="na">x</span> <span class="o">-</span> <span class="k">this</span><span class="o">.</span><span class="na">x</span><span class="o">)+(</span><span class="n">q</span><span class="o">.</span><span class="na">y</span> <span class="o">-</span> <span class="k">this</span><span class="o">.</span><span class="na">y</span><span class="o">)*(</span><span class="n">q</span><span class="o">.</span><span class="na">y</span> <span class="o">-</span> <span class="k">this</span><span class="o">.</span><span class="na">y</span><span class="o">));</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
and the invocation:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">Point</span> <span class="n">p1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Point</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">);</span>
<span class="n">Point</span> <span class="n">p2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Point</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">1</span><span class="o">);</span>
<span class="n">p1</span><span class="o">.</span><span class="na">distanceTo</span><span class="o">(</span><span class="n">p2</span><span class="o">);</span>
</pre></div>
</td></tr></table></p>
<p>After declaring <code class="codehilite">p1</code> and <code class="codehilite">p2</code> and creating both objects, we have:
<img alt="stack-and-heap" src="../figures/stack-and-heap/stack-and-heap.005.png" /></p>
<p>When <code class="codehilite">distanceTo</code> is called, JVM creates a <em>stack frame</em> for this instance method call.  This stack frame is a region of memory that tentatively contains (i) the <code class="codehilite">this</code> reference, (ii) the method arguments, and (iii) local variables within the method, among other things<sup id="fnref:3"><a class="footnote-ref" href="#fn:3" rel="footnote">3</a></sup><sup id="fnref:4"><a class="footnote-ref" href="#fn:4" rel="footnote">4</a></sup>.  When a class method is called, the stack frame does not contain the <code class="codehilite">this</code> reference.</p>
<p><img alt="stack-and-heap" src="../figures/stack-and-heap/stack-and-heap.006.png" /></p>
<p>You can see that the <em>references</em> to the objects <code class="codehilite">p1</code> and <code class="codehilite">p2</code> are copied onto the stack frame. <code class="codehilite">p1</code> and <code class="codehilite">this</code> point to the same object, and <code class="codehilite">p2</code> and <code class="codehilite">q</code> point to the same object.
Within the method, any modification done to <code class="codehilite">this</code> would change the object referenced to by <code class="codehilite">p1</code>, and any change made to <code class="codehilite">q</code> would change the object referenced to by <code class="codehilite">p2</code> as well.
After the method returns, the stack frame for that method is destroyed.</p>
<p>Let's call the <code class="codehilite">move</code> function from your <a href="../lab0/index.html">Lab 0</a>, with arguments <code class="codehilite">(double theta, double d)</code>.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">double</span> <span class="n">theta</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">PI</span><span class="o">/</span><span class="mf">4.0</span><span class="o">;</span>
<span class="kt">double</span> <span class="n">distance</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
<span class="n">p2</span><span class="o">.</span><span class="na">move</span><span class="o">(</span><span class="n">theta</span><span class="o">,</span> <span class="n">distance</span><span class="o">);</span>
</pre></div>
</td></tr></table>

<p>Again, we create a stack frame, copy the reference to object <code class="codehilite">p2</code> into <code class="codehilite">this</code>, copy <code class="codehilite">theta</code> from the calling function to <code class="codehilite">theta</code> the argument within the method, copy <code class="codehilite">distance</code> from the calling function to <code class="codehilite">d</code> the argument within the method.  Recall that, in this function, you actually change the <code class="codehilite">x</code> and <code class="codehilite">y</code> of <code class="codehilite">this</code> to move <code class="codehilite">p2</code>.  </p>
<p><img alt="stack-and-heap" src="../figures/stack-and-heap/stack-and-heap.007.png" /></p>
<p>What is important here is that, as <code class="codehilite">theta</code> and <code class="codehilite">distance</code> are primitive types instead of references, we copy the values onto the stack.  If we change <code class="codehilite">theta</code> or <code class="codehilite">d</code> within <code class="codehilite">move</code>, the <code class="codehilite">theta</code> and <code class="codehilite">distance</code> of the calling function will not change.  This behavior is the same as you would expect in C.  However, unlike in C where you can pass in a pointer to a variable, you cannot pass in a reference to a primitive type in any way in Java.  If you want to pass in a variable of primitive type into a method and have its value changed, you will have to use a <em>wrapper class</em>.  The details of how to do this are left as an exercise.</p>
<p>To summarize, Java uses <em>call by value</em> for primitive types, and <em>call by reference</em> for objects.</p>
<p>If we made multiple nested method calls, as we usually do, the stack frames get stacked on top of each other.  For instance, in Lab 0, <code class="codehilite">main</code> calls <code class="codehilite">solve</code>, which calls the <code class="codehilite">Circle</code> constructor, which calls the <code class="codehilite">angleTo</code>.  When JVM is executing <code class="codehilite">angleTo</code>, the call stack contains the stack frames of (in order of top to bottom): <code class="codehilite">angleTo</code>, <code class="codehilite">Circle</code> constructor, <code class="codehilite">solve</code>, and <code class="codehilite">main</code>.</p>
<p>One final note: the memory allocated on the stack are deallocated when a method returns.  The memory allocated on the heap, however, stays there as long as there is a reference to it (either from another object or from a variable in the stack).  Unlike C or C++, in Java, you do not have to free the memory allocated to objects.  The JVM runs a <em>garbage collector</em>  that checks for unreferenced objects on the heap and cleans up the memory automatically.</p>
<h2 id="3-exceptions">3. Exceptions</h2>
<p>One of the nuances of programming is having to write code to deal with exceptions and errors.  Consider writing a method that reads in a series of x and y coordinates from a file, not unlike what you have seen in Lab 0.  Here are some things that could go wrong:</p>
<ul>
<li>The file to read from may not exist</li>
<li>The file to read from exists, but you may not have permission to read it</li>
<li>You can open the file for reading, but it might contain non-numeric text where you numerical values</li>
<li>The file might contain fewer values than expected</li>
<li>The file might become unreadable as you are reading through it (e.g., someone unplugs the USB drive)</li>
</ul>
<p>In C, we usually have to write code like this:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">fd</span> <span class="o">=</span> <span class="n">fopen</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="s">&quot;r&quot;</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">fd</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="s">&quot;Unable to open file. &quot;</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">errno</span> <span class="o">==</span> <span class="n">ENFILE</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="s">&quot;Too many opened files.  Unable to open another</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">errno</span> <span class="o">==</span> <span class="n">ENOENT</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="s">&quot;No such file %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">filename</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">errno</span> <span class="o">==</span> <span class="n">EACCES</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="s">&quot;No read permission to %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">filename</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">scanned</span> <span class="o">=</span> <span class="n">fscanf</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">num_of_points</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">scanned</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="s">&quot;Unable to scan for an integer</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
  <span class="n">fclose</span><span class="p">(</span><span class="n">fd</span><span class="p">);</span>
  <span class="k">return</span> <span class="o">-</span><span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">if</span> <span class="p">(</span><span class="n">scanned</span> <span class="o">==</span> <span class="n">EOF</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="s">&quot;No input found.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
  <span class="n">fclose</span><span class="p">(</span><span class="n">fd</span><span class="p">);</span>
  <span class="k">return</span> <span class="o">-</span><span class="mi">3</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>Out of the lines above, only 2 lines correspond to the actual tasks, the others are for exception checking/handling.  How uncool is that?  Furthermore, the actual tasks are interspersed between exception checking code, making reading and understanding the logic of the code difficult.</p>
<p>The examples above also have to return different values to the calling method, because the calling method may have to do something to handle the errors.  Note that the POSIX APIs has a global variable <code class="codehilite">errno</code> that signifies the detailed error.  First, we have to check for different <code class="codehilite">errno</code> values and react accordingly (we can use <code class="codehilite">perror</code>, but that has its limits).  Second, <code class="codehilite">errno</code> is global and we know that using global variable is bad practice.  In fact, I am not even sure that code above works because <code class="codehilite">fprintf</code> in Line 3 might have changed <code class="codehilite">errno</code>!</p>
<p>Then, there is the issue of having to repeatedly clean up after an error -- here we <code class="codehilite">fclose</code> the file if there is an error reading, twice.  It is easy to forget to do so if we have to do this in multiple places.   Furthermore, if we need to perform more complex clean up, then we would end up with lots of repeated code.</p>
<p>Fortunately, Java supports <code class="codehilite">try</code>/<code class="codehilite">catch</code>/<code class="codehilite">finally</code> control statements, which is a way to group statements that check/handle errors together making code easier to read.  The Java equivalent to the above is:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">try</span> <span class="o">{</span>
  <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FileReader</span><span class="o">(</span><span class="n">filename</span><span class="o">);</span>
  <span class="n">scanner</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Scanner</span><span class="o">(</span><span class="n">reader</span><span class="o">);</span>
  <span class="n">numOfPoints</span> <span class="o">=</span> <span class="n">scanner</span><span class="o">.</span><span class="na">nextInt</span><span class="o">();</span>
<span class="o">}</span>
<span class="k">catch</span> <span class="o">(</span><span class="n">FileNotFoundException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Unable to open &quot;</span> <span class="o">+</span> <span class="n">filename</span> <span class="o">+</span> <span class="s">&quot; &quot;</span> <span class="o">+</span> <span class="n">e</span><span class="o">);</span>
<span class="o">}</span>
<span class="k">catch</span> <span class="o">(</span><span class="n">InputMismatchException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Unable to scan for an integer&quot;</span><span class="o">);</span>
<span class="o">}</span>
<span class="k">catch</span> <span class="o">(</span><span class="n">NoSuchElementException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;No input found&quot;</span><span class="o">);</span>
<span class="o">}</span>
<span class="k">finally</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">scanner</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
    <span class="n">scanner</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<p>Here Lines 2-4 keep the basic tasks together, and all the clean up tasks are grouped together in Lines 18-19.  Lines 8-16 handle the exceptions.  We no longer rely on a global variable to convey the type of exceptions, or special return value to indicate exceptions.   What if we want the calling method to handle the exception?  Then, we simply do not do anything (i.e., do not catch the exception) and let the exception propagates to the calling method automatically.</p>
<div class="admonition note">
<p class="admonition-title">Error vs. Exception in Java</p>
<p>We have been using the term error and exception loosely.  Java has different classes for <code class="codehilite">Error</code> and <code class="codehilite">Exception</code>.  <code class="codehilite">Error</code> is for situations where the program should terminate as generally there is no way to recover.  For instance, when the heap is full (<code class="codehilite">OutOfMemoryError</code>) or the stack is full (<code class="codehilite">StackOverflowError</code>).  Exceptions are for situations where it is still possible to reasonably recover from the error.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Combining Multiple Catches</p>
<p>In cases where the code to handle the exceptions is the same, you can
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>catch (FileNotFoundException | InputMismatchException | NoSuchElementException e) {
    System.err.println(e);
}
</pre></div>
</td></tr></table></p>
</div>
<p>Here is a more detailed description of the control flow of exceptions.  Consider we have a <code class="codehilite">try</code>-<code class="codehilite">catch</code>-<code class="codehilite">finally</code> block that catches two exceptions <code class="codehilite">E1</code> and <code class="codehilite">E2</code>.  Inside the <code class="codehilite">try</code> block, we call a method <code class="codehilite">m1()</code>; <code class="codehilite">m1()</code> calls <code class="codehilite">m2()</code>; <code class="codehilite">m2()</code> calls <code class="codehilite">m3()</code>, and <code class="codehilite">m3()</code> calls <code class="codehilite">m4()</code>.   In a normal (no exception) situation, the control flow looks like this:</p>
<p><img alt="exception control flow" src="../figures/exceptions/exceptions.002.png" /></p>
<p>The statements in <code class="codehilite">try</code> block are executed, followed by the statements in <code class="codehilite">finally</code> block.</p>
<p>Now, let's suppose something went wrong deep inside the nested call, in <code class="codehilite">m4()</code>.  One of the statement executes <code class="codehilite">throw new E2();</code>, which causes the execution in <code class="codehilite">m4()</code> to stop.  JVM now looks for the block of code that catches <code class="codehilite">E2</code>, going down the call stack, until it can find a place where the exception is handled.  In this example, we suppose that none of <code class="codehilite">m1()</code>-<code class="codehilite">m4()</code> handles (i.e., <code class="codehilite">catch</code>) the exception.  Thus, JVM then jumps to the code that handles <code class="codehilite">E2</code>.  Finally, JVM executes the <code class="codehilite">finally</code> block.</p>
<p>Note that the <code class="codehilite">finally</code> block is always executed even when <code class="codehilite">return</code> or <code class="codehilite">throw</code> is called in a <code class="codehilite">catch</code> block.</p>
<p><img alt="exception control flow" src="../figures/exceptions/exceptions.003.png" /></p>
<h3 id="checked-exceptions">Checked Exceptions</h3>
<p>There are two types of exceptions in Java: <em>checked</em> and <em>unchecked</em> exceptions:</p>
<ul>
<li>A checked exception is something that the programmer should anticipate and handle.  For instance, when you open a file, you should anticipate that in some cases, the file cannot be open.   </li>
<li>An unchecked exception is something that the programmer does not anticipate, and usually is a result of a bug.  For example, when you try to call <code class="codehilite">p.distanceTo(q)</code> but <code class="codehilite">p</code> is <code class="codehilite">null</code>, <code class="codehilite">NullPointerException</code> will be thrown.  </li>
</ul>
<p><em>We need to either catch all checked exceptions or let it propagate to the calling method</em>.  Otherwise, the program will not compile.  </p>
<p>For unchecked exceptions, even though we could catch it, it makes more sense to eliminate the bugs.  In Java, unchecked exceptions are subclasses of <code class="codehilite">RuntimeException</code>.  All <code class="codehilite">Error</code>s are unchecked.</p>
<p>All methods that throw checked exception need to <em>specify</em> the checked exception(s).  For example, if we want to put the code to open a file and read an <code class="codehilite">int</code> from it into a function, and want the calling function to deal with the exception, this is what we should do:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">readIntFromFile</span><span class="o">(</span><span class="n">String</span> <span class="n">filename</span><span class="o">)</span>
  <span class="kd">throws</span> <span class="n">FileNotFoundException</span> <span class="o">{</span>
  <span class="n">FileReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FileReader</span><span class="o">(</span><span class="n">filename</span><span class="o">);</span>
  <span class="n">Scanner</span> <span class="n">scanner</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Scanner</span><span class="o">(</span><span class="n">reader</span><span class="o">);</span>
  <span class="kt">int</span> <span class="n">numOfPoints</span> <span class="o">=</span> <span class="n">scanner</span><span class="o">.</span><span class="na">nextInt</span><span class="o">();</span>    
  <span class="n">scanner</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
  <span class="k">return</span> <span class="n">numOfPoints</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<p>Note Line 2 specify that this method might throw <code class="codehilite">FileNotFoundException</code>.  </p>
<p>A checked exception must be either caught or thrown to calling function, except <code class="codehilite">main</code>, which has no calling function to throw to.  If <code class="codehilite">main</code> does not catch a checked exception, the program exits, and the exception is revealed to the user -- this is generally considered a bad programming practice.</p>
<p>The two other exceptions from the examples above <code class="codehilite">InputMismatchException</code> and <code class="codehilite">NoSuchElementException</code> are subclasses of <code class="codehilite">RuntimeException</code>, and therefore are unchecked.</p>
<h3 id="generating-exception">Generating Exception</h3>
<p>The Circle constructor in Lab 0 requires the distance <span><span class="MathJax_Preview">d</span><script type="math/tex">d</script></span> between two input points to be <span><span class="MathJax_Preview">0 &lt; d \le 2r</span><script type="math/tex">0 < d \le 2r</script></span>.  If the condition is violated, you are asked to return an invalid circle.  A better way is to throw an unchecked exception <code class="codehilite">IllegalArgumentException</code> if one of the above two conditions is met.  </p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="nf">Circle</span><span class="o">(</span><span class="n">Point</span> <span class="n">p</span><span class="o">,</span> <span class="n">Point</span> <span class="n">q</span><span class="o">,</span> <span class="kt">double</span> <span class="n">r</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">centerOnLeft</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">p</span><span class="o">.</span><span class="na">distanceTo</span><span class="o">(</span><span class="n">q</span><span class="o">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="o">*</span><span class="n">r</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="n">IllegalArgumentException</span><span class="o">(</span><span class="s">&quot;Input points are too far apart&quot;</span><span class="o">);</span>
  <span class="o">}</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">p</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">q</span><span class="o">))</span> <span class="o">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="n">IllegalArgumentException</span><span class="o">(</span><span class="s">&quot;Input points coincide&quot;</span><span class="o">);</span>
  <span class="o">}</span>
</pre></div>
</td></tr></table>

<p>Note that difference between <code class="codehilite">throw</code> and <code class="codehilite">throws</code>: the former is to generate an exception, the latter to specify that the exception(s) thrown by a method.</p>
<p>If you find that none of the <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html">exceptions provided by Java</a> meet your needs, you can create your own exceptions, by simply inheriting from one of the existing ones.
But, you should only do so if there is a good reason, for instance, to provide additional useful information to the exception handler.</p>
<h3 id="overriding-method-that-throws-exceptions">Overriding Method that Throws Exceptions</h3>
<p>When you override a method that throws a checked exception, the overriding method must throw only the same, or a more specific checked exception, than the overridden method.  This rule enforces the Liskov Substitution Principle.  The caller of the overridden method cannot expect any new checked exception than what has already been "promised" in the method specification.</p>
<h3 id="good-practices-for-exception-handling">Good Practices for Exception Handling</h3>
<h4 id="catch-exceptions-to-clean-up">Catch Exceptions to Clean Up</h4>
<p>While it is convenient to just let the calling method deals with exceptions ("Hey! Not my problem!"), it is not always responsible to do so.  Consider the example earlier, where <code class="codehilite">m1()</code>, <code class="codehilite">m2()</code>, and <code class="codehilite">m3()</code> do not handle exception E2.  Let's say that E2 is a checked exception, and it is possible to react to this and let the program continues properly.  Also, suppose that <code class="codehilite">m2()</code> allocated some system resources (e.g., temporary files, network connections) at the beginning of the method, and deallocated the resources at the end of the method.  Not handling the exception, means that, code that deallocates these resources does not get called when an exception occurs!  It is better for <code class="codehilite">m2()</code> to catch the exception, handle the resource deallocation in a <code class="codehilite">finally</code> block.  If there is a need for the calling methods to be aware of the exception, <code class="codehilite">m2()</code> can always re-throw the exception:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kt">void</span> <span class="nf">m2</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">E2</span> <span class="o">{</span>
  <span class="k">try</span> <span class="o">{</span>
    <span class="c1">// setup resources</span>
    <span class="n">m3</span><span class="o">();</span>
  <span class="o">}</span>
  <span class="k">catch</span> <span class="o">(</span><span class="n">E2</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">throw</span> <span class="n">e</span><span class="o">;</span>
  <span class="o">}</span>
  <span class="k">finally</span> <span class="o">{</span>
    <span class="c1">// clean up resources</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<h4 id="catch-all-exception-is-bad">Catch All Exception is Bad</h4>
<p>Sometimes, you just want to focus on the main logic of the program and get it working instead of dealing with the exceptions.  Since Java uses checked exceptions, it forces you to handle the exceptions or else your code will not compile.  One way to quickly get around this is to write:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">try</span> <span class="o">{</span>
  <span class="c1">// your code</span>
<span class="o">}</span>
<span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
  <span class="o">:</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<p>to shut the compiler up.  DO NOT DO THIS.  All exceptions thrown are now silently ignored!  This is such as bad practice that there is a name for this -- this is call the <em>Pokemon Exception Handling</em>.</p>
<p>Can we do <em>worse</em>?  How about the following:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">try</span> <span class="o">{</span>
  <span class="c1">// your code</span>
<span class="o">}</span>
<span class="k">catch</span> <span class="o">(</span><span class="n">Error</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
  <span class="o">:</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
😱</p>
<h4 id="overreacting">Overreacting</h4>
<p>Do not exit a program just because of exception.  This would prevent the calling function from cleaning up their resources.  Worse, do not exit a program silently.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">try</span> <span class="o">{</span>
  <span class="c1">// your code</span>
<span class="o">}</span>
<span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">System</span><span class="o">.</span><span class="na">exit</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<h4 id="do-not-break-abstraction-barrier">Do Not Break Abstraction Barrier</h4>
<p>Sometimes, letting the calling method handles the exception causes the implementation details to be leaked, and make it harder to change the implementation later.</p>
<p>For instance, suppose we design a class <code class="codehilite">ClassRoster</code> with a method <code class="codehilite">getStudents()</code>, which reads the list of students from a text file.<br />
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">ClassRoster</span> <span class="o">{</span>
   <span class="o">:</span>
  <span class="kd">public</span> <span class="n">Students</span><span class="o">[]</span> <span class="nf">getStudents</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">FileNotFoundException</span> <span class="o">{</span>
    <span class="o">:</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
Later, we change the implementation to reading the list from an SQL database,
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">ClassRoster</span> <span class="o">{</span>
   <span class="o">:</span>
  <span class="kd">public</span> <span class="n">Students</span><span class="o">[]</span> <span class="nf">getStudents</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">SQLException</span> <span class="o">{</span>
    <span class="o">:</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
We should, as much as possible, handle the implementation specific exceptions within the abstraction barrier.  </p>
<h2 id="exercise">Exercise</h2>
<ol>
<li>
<p>Suppose we have an interface <code class="codehilite">Shape</code> and two classes <code class="codehilite">Circle</code> and <code class="codehilite">Square</code> that implements <code class="codehilite">Shape</code>.  We initialize the following variables:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">Shape</span><span class="o">[]</span> <span class="n">shapes</span><span class="o">;</span>
<span class="n">Circle</span><span class="o">[]</span> <span class="n">circles</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Circle</span><span class="o">[</span><span class="mi">1</span><span class="o">];</span>
</pre></div>
</td></tr></table>

<p>Will the following two lines compile?  Will any of the lines cause a run time exception?  Explain.
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">shapes</span> <span class="o">=</span> <span class="n">circles</span><span class="o">;</span>
<span class="n">shapes</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Square</span><span class="o">(</span><span class="mf">3.0</span><span class="o">);</span>
</pre></div>
</td></tr></table></p>
<p>(Assume <code class="codehilite">Square</code> has a constructor that takes in a single <code class="codehilite">double</code> argument.)</p>
</li>
<li>
<p>Write a static method with the following signature:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">search</span><span class="o">(</span><span class="n">Object</span><span class="o">[]</span> <span class="n">a</span><span class="o">,</span> <span class="n">Object</span> <span class="n">target</span><span class="o">)</span> 
</pre></div>
</td></tr></table>

<p>to search linearly through the array <code class="codehilite">a</code> to see if there exists an element of <code class="codehilite">a</code> that equals to <code class="codehilite">target</code> (the equality is tested using the <code class="codehilite">equals</code> method).  The method returns <code class="codehilite">true</code> if the <code class="codehilite">target</code> is found, and returns <code class="codehilite">false</code> otherwise.</p>
<p>For instance, </p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">Point</span><span class="o">[]</span> <span class="n">points</span> <span class="o">=</span> <span class="o">{</span> <span class="k">new</span> <span class="n">Point</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">),</span> <span class="k">new</span> <span class="n">Point</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="mi">1</span><span class="o">),</span> <span class="k">new</span> <span class="n">Point</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="mi">2</span><span class="o">)</span> <span class="o">};</span>
<span class="n">search</span><span class="o">(</span><span class="n">points</span><span class="o">,</span> <span class="k">new</span> <span class="n">Point</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="mi">1</span><span class="o">));</span> <span class="c1">// return true</span>
<span class="n">search</span><span class="o">(</span><span class="n">points</span><span class="o">,</span> <span class="k">new</span> <span class="n">Point</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">1</span><span class="o">));</span> <span class="c1">// return false</span>
</pre></div>
</td></tr></table>

<p>Take note of how method overriding, polymorphism, widening type conversion, and the covariance property of Java array are used in this question.</p>
</li>
<li>
<p>In Java, we cannot write a method to swap two primitive types without going through some hoops.  For instance, the following does not work:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">static</span> <span class="kt">void</span> <span class="nf">swap</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">,</span> <span class="kt">int</span> <span class="n">y</span><span class="o">)</span> <span class="o">{</span>
  <span class="kt">int</span> <span class="n">tmp</span> <span class="o">=</span> <span class="n">x</span><span class="o">;</span>
  <span class="n">x</span> <span class="o">=</span> <span class="n">y</span><span class="o">;</span>
  <span class="n">y</span> <span class="o">=</span> <span class="n">tmp</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<p>Why? </p>
<p>To pass a variable of primitive type by reference, we need to wrap the variable in a wrapper class.  For example,</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">Wrapper</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kt">int</span> <span class="n">x</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kt">int</span> <span class="n">y</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<p>Using the <code class="codehilite">Wrapper</code> class above to pass the two variables <code class="codehilite">x</code> and <code class="codehilite">y</code> into the <code class="codehilite">swap</code> method to swap their values.  Using the method signature:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>static void swap(Wrapper w) {
  // TODO
}
</pre></div>
</td></tr></table>

<p>Show how you would implement and use the <code class="codehilite">swap</code> method.  Convince yourself that it is working by tracing through the content of the stack and heap as you call <code class="codehilite">swap</code>.</p>
</li>
<li>
<p>Will the following result in a compile time error?  Run time error?</p>
<p>(a)
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">int</span> <span class="n">i</span><span class="o">;</span>
<span class="kt">double</span> <span class="n">d</span><span class="o">;</span>
<span class="n">i</span> <span class="o">=</span> <span class="n">d</span><span class="o">;</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
<span class="n">i</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="n">d</span><span class="o">;</span>
<span class="n">d</span> <span class="o">=</span> <span class="o">(</span><span class="kt">double</span><span class="o">)</span> <span class="n">i</span><span class="o">;</span>
</pre></div>
</td></tr></table></p>
<p>(b)
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">int</span> <span class="n">i</span><span class="o">;</span>
<span class="kt">boolean</span> <span class="n">b</span><span class="o">;</span>
<span class="n">i</span> <span class="o">=</span> <span class="n">b</span><span class="o">;</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
<span class="n">i</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="n">b</span><span class="o">;</span>
<span class="n">b</span> <span class="o">=</span> <span class="o">(</span><span class="kt">boolean</span><span class="o">)</span> <span class="n">i</span><span class="o">;</span>
</pre></div>
</td></tr></table></p>
<p>(C)
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">A</span> <span class="o">{</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">B</span> <span class="kd">extends</span> <span class="n">A</span> <span class="o">{</span>
<span class="o">}</span>

<span class="n">A</span> <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="n">A</span><span class="o">();</span>
<span class="n">B</span> <span class="n">b</span> <span class="o">=</span> <span class="k">new</span> <span class="n">B</span><span class="o">();</span>
<span class="n">b</span> <span class="o">=</span> <span class="o">(</span><span class="n">B</span><span class="o">)</span><span class="n">a</span><span class="o">;</span>
<span class="n">a</span> <span class="o">=</span> <span class="o">(</span><span class="n">A</span><span class="o">)</span><span class="n">b</span><span class="o">;</span>
</pre></div>
</td></tr></table></p>
<p>(d)
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">interface</span> <span class="nc">I</span> <span class="o">{</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">A</span> <span class="kd">implements</span> <span class="n">I</span> <span class="o">{</span>
<span class="o">}</span>

<span class="n">I</span> <span class="n">i1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">I</span><span class="o">();</span>
<span class="n">I</span> <span class="n">i2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">A</span><span class="o">();</span>
<span class="n">A</span> <span class="n">a1</span> <span class="o">=</span> <span class="n">i2</span><span class="o">;</span>
<span class="n">A</span> <span class="n">a2</span> <span class="o">=</span> <span class="o">(</span><span class="n">A</span><span class="o">)</span><span class="n">i2</span><span class="o">;</span>
</pre></div>
</td></tr></table></p>
<p>(e)
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">interface</span> <span class="nc">I</span> <span class="o">{</span>
<span class="o">}</span>

<span class="kd">interface</span> <span class="nc">J</span> <span class="kd">extends</span> <span class="n">I</span> <span class="o">{</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">A</span> <span class="kd">implements</span> <span class="n">J</span> <span class="o">{</span>
<span class="o">}</span>

<span class="n">A</span> <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="n">A</span><span class="o">();</span>
<span class="n">I</span> <span class="n">i</span> <span class="o">=</span> <span class="n">a</span><span class="o">;</span>
<span class="n">J</span> <span class="n">j</span> <span class="o">=</span> <span class="n">a</span><span class="o">;</span>
<span class="n">i</span> <span class="o">=</span> <span class="n">j</span><span class="o">;</span>
<span class="n">j</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
<span class="n">j</span> <span class="o">=</span> <span class="o">(</span><span class="n">J</span><span class="o">)</span><span class="n">i</span><span class="o">;</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">j</span><span class="o">;</span>
<span class="n">a</span> <span class="o">=</span> <span class="o">(</span><span class="n">A</span><span class="o">)</span><span class="n">i</span><span class="o">;</span>
<span class="n">a</span> <span class="o">=</span> <span class="o">(</span><span class="n">A</span><span class="o">)</span><span class="n">j</span><span class="o">;</span>
</pre></div>
</td></tr></table></p>
<p>(f)
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">interface</span> <span class="nc">I</span> <span class="o">{</span>
<span class="o">}</span>

<span class="kd">interface</span> <span class="nc">J</span> <span class="o">{</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">A</span> <span class="kd">implements</span> <span class="n">I</span><span class="o">,</span> <span class="n">J</span> <span class="o">{</span>
<span class="o">}</span>

<span class="n">A</span> <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="n">A</span><span class="o">();</span>
<span class="n">I</span> <span class="n">i</span> <span class="o">=</span> <span class="n">a</span><span class="o">;</span>
<span class="n">J</span> <span class="n">j</span> <span class="o">=</span> <span class="n">a</span><span class="o">;</span>
<span class="n">i</span> <span class="o">=</span> <span class="n">j</span><span class="o">;</span>
<span class="n">j</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
<span class="n">j</span> <span class="o">=</span> <span class="o">(</span><span class="n">J</span><span class="o">)</span><span class="n">i</span><span class="o">;</span>
<span class="n">I</span> <span class="o">=</span> <span class="o">(</span><span class="n">I</span><span class="o">)</span><span class="n">j</span><span class="o">;</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">j</span><span class="o">;</span>
<span class="n">a</span> <span class="o">=</span> <span class="o">(</span><span class="n">A</span><span class="o">)</span><span class="n">i</span><span class="o">;</span>
<span class="n">a</span> <span class="o">=</span> <span class="o">(</span><span class="n">A</span><span class="o">)</span><span class="n">j</span><span class="o">;</span>
</pre></div>
</td></tr></table></p>
<p>(g)
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">A</span> <span class="o">{</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">B</span> <span class="kd">extends</span> <span class="n">A</span> <span class="o">{</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">C</span> <span class="kd">extends</span> <span class="n">A</span> <span class="o">{</span>
<span class="o">}</span>

<span class="n">B</span> <span class="n">b</span> <span class="o">=</span> <span class="k">new</span> <span class="n">B</span><span class="o">();</span>
<span class="n">A</span> <span class="n">a</span> <span class="o">=</span> <span class="n">b</span><span class="o">;</span>
<span class="n">C</span> <span class="n">c</span> <span class="o">=</span> <span class="n">b</span><span class="o">;</span>
<span class="n">A</span> <span class="n">a</span> <span class="o">=</span> <span class="o">(</span><span class="n">A</span><span class="o">)</span><span class="n">b</span><span class="o">;</span>
<span class="n">C</span> <span class="n">c</span> <span class="o">=</span> <span class="o">(</span><span class="n">C</span><span class="o">)</span><span class="n">b</span><span class="o">;</span>
</pre></div>
</td></tr></table></p>
</li>
<li>
<p>Will each of the following programs compile? If so, what will be printed?</p>
<p>(a)
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="kt">void</span> <span class="nf">f</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">IllegalArgumentException</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Before throw&quot;</span><span class="o">);</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="n">IllegalArgumentException</span><span class="o">();</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;After throw&quot;</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IllegalArgumentException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Caught in f&quot;</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Before f&quot;</span><span class="o">);</span>
      <span class="n">f</span><span class="o">();</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;After f&quot;</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Caught in main&quot;</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></p>
<p>(b)
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="kt">void</span> <span class="nf">f</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">IllegalArgumentException</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="n">IllegalArgumentException</span><span class="o">();</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IllegalArgumentException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Caught in f&quot;</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Before f&quot;</span><span class="o">);</span>
      <span class="n">f</span><span class="o">();</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;After f&quot;</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Caught in main&quot;</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></p>
<p>(C)
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="kt">void</span> <span class="nf">f</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">IllegalArgumentException</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="n">Exception</span><span class="o">();</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IllegalArgumentException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Caught in f&quot;</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Before f&quot;</span><span class="o">);</span>
      <span class="n">f</span><span class="o">();</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;After f&quot;</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Caught in main&quot;</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></p>
<p>(d)
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="kt">void</span> <span class="nf">f</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="n">IllegalArgumentException</span><span class="o">();</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Caught in f&quot;</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Before f&quot;</span><span class="o">);</span>
      <span class="n">f</span><span class="o">();</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;After f&quot;</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Caught in main&quot;</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></p>
<p>(e)
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="kt">void</span> <span class="nf">f</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="n">ArrayIndexOutOfBoundsException</span><span class="o">();</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IllegalArgumentException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Caught in f&quot;</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Before f&quot;</span><span class="o">);</span>
      <span class="n">f</span><span class="o">();</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;After f&quot;</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Caught in main&quot;</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></p>
<p>(f)
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="kt">void</span> <span class="nf">f</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="n">ArrayIndexOutOfBoundsException</span><span class="o">();</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IllegalArgumentException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Caught IA exception in f&quot;</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">ArrayIndexOutOfBoundsException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Caught AIOOB exception in f&quot;</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Before f&quot;</span><span class="o">);</span>
      <span class="n">f</span><span class="o">();</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;After f&quot;</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Caught in main&quot;</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></p>
<p>(g)
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="kt">void</span> <span class="nf">f</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="n">ArrayIndexOutOfBoundsException</span><span class="o">();</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Caught exception in f&quot;</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">ArrayIndexOutOfBoundsException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Caught AIOOB exception in f&quot;</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Before f&quot;</span><span class="o">);</span>
      <span class="n">f</span><span class="o">();</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;After f&quot;</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Caught in main&quot;</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></p>
<p>(h)
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="kt">void</span> <span class="nf">f</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="n">ArrayIndexOutOfBoundsException</span><span class="o">();</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">ArrayIndexOutOfBoundsException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Caught AIOOB exception in f&quot;</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Caught exception in f&quot;</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Before f&quot;</span><span class="o">);</span>
      <span class="n">f</span><span class="o">();</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;After f&quot;</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Caught in main&quot;</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></p>
<p>(i)
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="kt">void</span> <span class="nf">f</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="n">ArrayIndexOutOfBoundsException</span><span class="o">();</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IllegalArgumentException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Caught in f&quot;</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Before f&quot;</span><span class="o">);</span>
      <span class="n">f</span><span class="o">();</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;After f&quot;</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Caught in main&quot;</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></p>
</li>
</ol>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>A utility class is a Java class that contains only class methods and class fields.  You have seen another example in CS2030, <code class="codehilite">Math</code>, and will see a few more in this module.&#160;<a class="footnote-backref" href="#fnref:1" rev="footnote" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>Unlike earlier figures, I didn't show the class metadata and method tables for simplicity.&#160;<a class="footnote-backref" href="#fnref:2" rev="footnote" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:3">
<p>This is not that difference from how an OS handles function call in a machine code, as you will see in CS2100/CS2106.&#160;<a class="footnote-backref" href="#fnref:3" rev="footnote" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
<li id="fn:4">
<p>The other things are JVM implementation independent and not relevant to our discussion here.&#160;<a class="footnote-backref" href="#fnref:4" rev="footnote" title="Jump back to footnote 4 in the text">&#8617;</a></p>
</li>
</ol>
</div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../lec03/index.html" title="3. More on Inheritance" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                3. More on Inheritance
              </span>
            </div>
          </a>
        
        
          <a href="../lec05/index.html" title="5. Generics and Collections" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                5. Generics and Collections
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright by Wei Tsang Ooi, Department of Computer Science, National University of Singapore 2018
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.a59e2a89.js"></script>
      
      <script>app.initialize({version:"0.17.5",url:{base:".."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
    
      
    
  </body>
</html>