



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://nus-cs2030.github.io/1718-s2/lab2b/index.html">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.5, mkdocs-material-2.9.2">
    
    
      
        <title>2b. Simulator v1.3 - CS2030 Programming Methodology II</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.ba0fd1a6.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Gentium+Book+Basic">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
    
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#lab-2b-simulator-v13" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://nus-cs2030.github.io/1718-s2" title="CS2030 Programming Methodology II" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                CS2030 Programming Methodology II
              </span>
              <span class="md-header-nav__topic">
                2b. Simulator v1.3
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/nus-cs2030/1718-s2/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    CS2030 Programming Methodology II
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/nus-cs2030/1718-s2/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../index.html" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      General
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        General
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../about/index.html" title="About" class="md-nav__link">
      About
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../prereqs/index.html" title="Prerequisites" class="md-nav__link">
      Prerequisites
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../policies/index.html" title="Policies" class="md-nav__link">
      Policies
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../schedule/index.html" title="Schedule" class="md-nav__link">
      Schedule
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../readings/index.html" title="Readings" class="md-nav__link">
      Readings
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../final/index.html" title="Final" class="md-nav__link">
      Final
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../midterm/index.html" title="Midterm" class="md-nav__link">
      Midterm
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7" checked>
    
    <label class="md-nav__link" for="nav-7">
      Labs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Labs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../lab0/index.html" title="0. Warm Up" class="md-nav__link">
      0. Warm Up
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab1a/index.html" title="1a. Simulator v1.0" class="md-nav__link">
      1a. Simulator v1.0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab1b/index.html" title="1b. Simulator v1.1" class="md-nav__link">
      1b. Simulator v1.1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab2a/index.html" title="2a. Simulator v1.2" class="md-nav__link">
      2a. Simulator v1.2
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        2b. Simulator v1.3
      </label>
    
    <a href="index.html" title="2b. Simulator v1.3" class="md-nav__link md-nav__link--active">
      2b. Simulator v1.3
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" title="Prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#learning-objectives" title="Learning Objectives" class="md-nav__link">
    Learning Objectives
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup" title="Setup" class="md-nav__link">
    Setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#goals" title="Goals" class="md-nav__link">
    Goals
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#writing-and-generating-javadoc" title="Writing and Generating Javadoc" class="md-nav__link">
    Writing and Generating Javadoc
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#package" title="Package" class="md-nav__link">
    Package
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customer-queues" title="Customer Queues" class="md-nav__link">
    Customer Queues
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#taking-a-rest" title="Taking A Rest" class="md-nav__link">
    Taking A Rest
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#self-checkout" title="Self-Checkout" class="md-nav__link">
    Self-Checkout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customer-choosing-which-queue" title="Customer: Choosing Which Queue" class="md-nav__link">
    Customer: Choosing Which Queue
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#summary" title="Summary" class="md-nav__link">
    Summary
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-randomgenerator-class" title="The RandomGenerator class" class="md-nav__link">
    The RandomGenerator class
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#grading" title="Grading" class="md-nav__link">
    Grading
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#input-and-output" title="Input and Output" class="md-nav__link">
    Input and Output
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submission" title="Submission" class="md-nav__link">
    Submission
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab3/index.html" title="3.  Infinite List" class="md-nav__link">
      3.  Infinite List
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab4a/index.html" title="4a. Simulator v2.0" class="md-nav__link">
      4a. Simulator v2.0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab4b/index.html" title="4b. Simulator v2.1" class="md-nav__link">
      4b. Simulator v2.1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab5/index.html" title="5.  Matrix Multiplication" class="md-nav__link">
      5.  Matrix Multiplication
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab6/index.html" title="6.  Async Web API" class="md-nav__link">
      6.  Async Web API
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Lectures
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Lectures
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../lec01/index.html" title="1. Abstraction & Encapsulation" class="md-nav__link">
      1. Abstraction & Encapsulation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec02/index.html" title="2. Interface, Inheritance & Polymorphism" class="md-nav__link">
      2. Interface, Inheritance & Polymorphism
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec03/index.html" title="3. More on Inheritance" class="md-nav__link">
      3. More on Inheritance
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec04/index.html" title="4. Types, Memory, Exception" class="md-nav__link">
      4. Types, Memory, Exception
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec05/index.html" title="5. Generics and Collections" class="md-nav__link">
      5. Generics and Collections
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec06/index.html" title="6. hashCode, Nested Class, enum" class="md-nav__link">
      6. hashCode, Nested Class, enum
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec07/index.html" title="7. Functions" class="md-nav__link">
      7. Functions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec08/index.html" title="8. Streams" class="md-nav__link">
      8. Streams
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec09/index.html" title="9. FP Patterns" class="md-nav__link">
      9. FP Patterns
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec10/index.html" title="10. Parallel streams" class="md-nav__link">
      10. Parallel streams
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lec11/index.html" title="11. Asynchronous" class="md-nav__link">
      11. Asynchronous
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../monad/index.html" title="Extra. Build a Monad" class="md-nav__link">
      Extra. Build a Monad
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../review-questions/index.html" title="Extra. Review Questions" class="md-nav__link">
      Extra. Review Questions
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../style/index.html" title="Coding Style" class="md-nav__link">
      Coding Style
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Software/Tools
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Software/Tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../jdk/index.html" title="Java" class="md-nav__link">
      Java
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../javadoc/index.html" title="Javadoc" class="md-nav__link">
      Javadoc
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../unix/index.html" title="UNIX" class="md-nav__link">
      UNIX
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vim/index.html" title="Vim" class="md-nav__link">
      Vim
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" title="Prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#learning-objectives" title="Learning Objectives" class="md-nav__link">
    Learning Objectives
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup" title="Setup" class="md-nav__link">
    Setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#goals" title="Goals" class="md-nav__link">
    Goals
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#writing-and-generating-javadoc" title="Writing and Generating Javadoc" class="md-nav__link">
    Writing and Generating Javadoc
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#package" title="Package" class="md-nav__link">
    Package
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customer-queues" title="Customer Queues" class="md-nav__link">
    Customer Queues
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#taking-a-rest" title="Taking A Rest" class="md-nav__link">
    Taking A Rest
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#self-checkout" title="Self-Checkout" class="md-nav__link">
    Self-Checkout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customer-choosing-which-queue" title="Customer: Choosing Which Queue" class="md-nav__link">
    Customer: Choosing Which Queue
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#summary" title="Summary" class="md-nav__link">
    Summary
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-randomgenerator-class" title="The RandomGenerator class" class="md-nav__link">
    The RandomGenerator class
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#grading" title="Grading" class="md-nav__link">
    Grading
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#input-and-output" title="Input and Output" class="md-nav__link">
    Input and Output
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submission" title="Submission" class="md-nav__link">
    Submission
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/nus-cs2030/1718-s2/edit/master/docs/lab2b.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="lab-2b-simulator-v13">Lab 2b: Simulator v1.3</h1>
<p>Submission deadline: 2359, Sunday, March 11, 2018.</p>
<p>(Special extension due to Week 7 being the midterms week)</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>This lab assumes that students:</p>
<ul>
<li>have already attempted Lab 2a</li>
<li>have an understanding of the customer/server system being simulated</li>
<li>have an understanding of inheritance and polymorphism</li>
<li>are familiar the basic interfaces with Java Collections Framework</li>
</ul>
<h2 id="learning-objectives">Learning Objectives</h2>
<p>After completing this lab, students should:</p>
<ul>
<li>be more comfortable exploring Java Collections Framework API to look for suitable implementation for a particular data structure</li>
<li>be able to model IS-A relationship with inheritance and differences in behavior with polymorphism</li>
<li>appreciate how inheritance and polymorphism makes it easier to extend the code with new behavior</li>
</ul>
<h2 id="setup">Setup</h2>
<p>No new skeleton is given.  You are to build on top of your Lab 2a solution.</p>
<ul>
<li>Login to <code class="codehilite">cs2030-i</code></li>
<li>Create a new directory <code class="codehilite">~/lab2b</code></li>
<li>Copy the test data and trace output from <code class="codehilite">~cs2030/lab2b</code> to <code class="codehilite">~/lab2b</code></li>
<li>Copy the new <code class="codehilite">RandomGenerator.java</code> from <code class="codehilite">~cs2030/lab2b</code> to <code class="codehilite">~/lab2b</code></li>
<li>Copy your solution from <code class="codehilite">~/lab2a</code> to <code class="codehilite">~/lab2b</code></li>
<li>Rename the class <code class="codehilite">LabTwoA</code> to <code class="codehilite">LabTwoB</code> and the file <code class="codehilite">LabTwoA.java</code> to <code class="codehilite">LabTwoB.java</code></li>
<li>Update your manifest file to point to the new main class</li>
</ul>
<p>There should be 12 test files (<code class="codehilite">TESTDATA1.txt</code> to <code class="codehilite">TESTDATA12.txt</code>) and trace files (<code class="codehilite">OUTPUT1.txt</code> to <code class="codehilite">OUTPUT12.txt</code>).  </p>
<h2 id="goals">Goals</h2>
<p>For Lab 2b, you will extend the code to model the more complex behavior of shops, servers, and customers.</p>
<h3 id="writing-and-generating-javadoc">Writing and Generating Javadoc</h3>
<p>Remember that from Lab 2a onwards, you are required to document your classes and methods with Javadoc comments.  You can see examples from the skeleton code given earlier.  For more details, see the <a href="../javadoc/index.html">javadoc</a> guide.</p>
<p>You should document all your methods and classes (including private ones).</p>
<h3 id="package">Package</h3>
<p>All your classes should be in the <code class="codehilite">cs2030.simulator</code> package.</p>
<h3 id="customer-queues">Customer Queues</h3>
<p>The shop owner noticed that the shop is still losing customers.  As such, he expanded the shop area, so that more customers can queue up.</p>
<p>In your simulator, you should change the shop so that multiple customers can queue up and wait.  Each server should now have a queue of customers.  A customer that chooses to join a queue joins at the tail.  When a server finishes serving a customer, it will serve the next waiting customer at the head of the queue.  The queue is a first-in-first-out (FIFO) structure.  </p>
<div class="admonition tips">
<p>Think about which interface from Java Collections Framework should you use for this?  Which implementation of this interface is the best?</p>
</div>
<p>Each queue has a maximum size <span><span class="MathJax_Preview">Q_{max}</span><script type="math/tex">Q_{max}</script></span>.  A customer cannot join a queue that is <em>full</em>, i.e., has <span><span class="MathJax_Preview">Q_{max}</span><script type="math/tex">Q_{max}</script></span> customers inside. (Note: a customer that is being served is not inside the queue).  </p>
<p>When a customer arrives, if every queue in the shop is full, then the customer leaves.</p>
<p>Note that if <span><span class="MathJax_Preview">Q_{max}</span><script type="math/tex">Q_{max}</script></span> is 1, it is the same scenario that you have been working on for Lab 2a.</p>
<div class="admonition tips">
<p class="admonition-title">Event Queue vs. Customer Queue</p>
<p>Your program will have two types of queues, a priority queue for events, and FIFO queues for customers.  Do not mix up the two.  You do not need a priority queue for customers.</p>
</div>
<h3 id="taking-a-rest">Taking A Rest</h3>
<p>The (human) servers have to take a rest now and then.  When a server finishes serving a customer, there is a probability <span><span class="MathJax_Preview">P_{r}</span><script type="math/tex">P_{r}</script></span> that the server takes a rest for a random amount of time <span><span class="MathJax_Preview">T_{r}</span><script type="math/tex">T_{r}</script></span>.   During the resting break, the server does not serve the next waiting customer, but upon returning from the break, the server serves the next customer in queue immediately. </p>
<p><span><span class="MathJax_Preview">P_{r}</span><script type="math/tex">P_{r}</script></span> is a parameter read from the input file.  To decide if the server should rest, we generate a random number uniformly drawn from between 0 and 1, with <code class="codehilite">RandomGenerator</code>'s method <code class="codehilite">genRandomRest()</code>.   If the returned value is less than <span><span class="MathJax_Preview">P_{r}</span><script type="math/tex">P_{r}</script></span>, the server rests, otherwise, it continues serving the next customer.</p>
<p><span><span class="MathJax_Preview">T_{r}</span><script type="math/tex">T_{r}</script></span> is a random number generated by <code class="codehilite">RandomGenerator</code> 's method <code class="codehilite">genRestPeriod()</code>.  This variable is again an exponential random variable, governed by the resting rate <span><span class="MathJax_Preview">\rho</span><script type="math/tex">\rho</script></span>.  <span><span class="MathJax_Preview">\rho</span><script type="math/tex">\rho</script></span> is another parameter to be read from the input file.</p>
<p>To implement this behavior, you should introduce a new event, a "back" event, to signify that the server is back from a rest.  This event should be generated and scheduled in the simulator when the server decides to rest.</p>
<h3 id="self-checkout">Self-Checkout</h3>
<p>To improve the customer experience and reduce the waiting time, the owner is setting up a number of self-checkout counters, for customers who just need a quick service.  The advantage of self-checkout counters is that they never rest!  Customers queue up for the self-checkout counter just like for the (human) servers.  There is one queue per self-checkout counter.  However, only customers with service time lower than a <span><span class="MathJax_Preview">T_{self}</span><script type="math/tex">T_{self}</script></span> can join self-checkout queue.  <span><span class="MathJax_Preview">T_{self}</span><script type="math/tex">T_{self}</script></span> is a parameter to be read from the input file.</p>
<p>There are <span><span class="MathJax_Preview">N_{self}</span><script type="math/tex">N_{self}</script></span> self-checkout counters in the shop now.  <span><span class="MathJax_Preview">N_{self}</span><script type="math/tex">N_{self}</script></span> is a parameter to be read from the input file.</p>
<h3 id="customer-choosing-which-queue">Customer: Choosing Which Queue</h3>
<p>When a customer arrives, he or she has to decide which queue to join.  </p>
<p>Like before, the customer will scan through the servers (in order, from 1 to <span><span class="MathJax_Preview">k</span><script type="math/tex">k</script></span>) to see if there is an idle server.  If there is one, the customer will go to the server to be served.  In this lab, however, the notion of idle is expanded: a server is idle if it is not serving a customer and is not resting.</p>
<p>But, the customers' behavior differs when there is no idle server.</p>
<p>We model two types of customer behavior.  A greedy customer always chooses the queue with the fewest customers to join.  If there are more than one queues of the same shortest length, the customer breaks a tie by preferring the server with the lowest id (remember that customer scans from 1 to <span><span class="MathJax_Preview">k</span><script type="math/tex">k</script></span>).</p>
<p>A typical, non-greedy, customer just chooses the first queue among all the queues that are still not full to join.   An arriving customer is a greedy customer with probability <span><span class="MathJax_Preview">P_{g}</span><script type="math/tex">P_{g}</script></span>.</p>
<p><span><span class="MathJax_Preview">P_{g}</span><script type="math/tex">P_{g}</script></span> is a parameter read from the input file.  To decide if we should create a typical or greedy customer, we generate a random number uniformly drawn from between 0 and 1, with <code class="codehilite">RandomGenerator</code>'s method <code class="codehilite">genCustomerType()</code>.   If the returned value is less than <span><span class="MathJax_Preview">P_{g}</span><script type="math/tex">P_{g}</script></span>, a new greedy customer is generated, otherwise, a typical customer is generated.</p>
<div class="admonition tips">
<p class="admonition-title">Debugging</p>
<p>To help with debugging, it would be useful to print out the greedy customer and a typical customer in a different way.</p>
</div>
<p>If the customer requires a service time less then <span><span class="MathJax_Preview">T_{self}</span><script type="math/tex">T_{self}</script></span>, it will look for an idle self-checkout counter first.  Failing which it will look for an idle human server.  If the customer fails to find any idle server (self-checkout and human server), it will try to join a queue at the self-checkout counters.  The behavior of a customer joining a queue at the self-checkout counters is <em>exactly the same as if the self-checkout counters are human servers</em>.</p>
<p>If all the queues at the self-checkout counters are full, or the customer requires a longer service (service time is no less than <span><span class="MathJax_Preview">T_{self}</span><script type="math/tex">T_{self}</script></span>, then the customer joins one of the queues of the (human) servers.  The same greedy / no-greedy behavior applies.</p>
<div class="admonition note">
<p class="admonition-title">Greedy Customer and Self-Checkouts</p>
<p>A greedy customer who is eligible for self-checkout counters will prefer the shortest queue among the self-checkout counters over an even shorter queue for human servers.</p>
</div>
<div class="admonition tips">
<p class="admonition-title">Abstraction Principle</p>
<p>You should avoid duplicating your code for customer choosing self-checkout counters and human servers as much as possible.  One way is to treat the self-checkout counters and the human servers as in two different (virtual) shops.</p>
</div>
<p>If a customer cannot find any queue to join, it will leave the shop.</p>
<h3 id="summary">Summary</h3>
<p>To summarize, you need to handle the following additions.  The additions below are listed in the order you are recommended to work on.</p>
<ul>
<li>FIFO queues for customers with a capacity of <span><span class="MathJax_Preview">Q_{max}</span><script type="math/tex">Q_{max}</script></span>.</li>
<li>Two types of customers, "greedy" customers and "typical" customers.</li>
<li>Two types of servers, "human" servers who may rest after serving a customer and self-checkout counters who never rest.</li>
<li>Self-checkout counters can only be used by, and always be preferred by, customers with small service time.</li>
<li>A new type of event, a "back" event for when a server comes back from resting.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Modifiability of OO Programs</p>
<p>While the number of additions above seems like there is a lot of work, using Java Collections Framework, inheritance, and polymorphism, the work needed to extend Lab2a to Lab2b should not be much.  Our solution adds only ~250 lines of code (excluding comments) to implement all these complex behaviors of customers, servers, and shops.</p>
</div>
<h2 id="the-randomgenerator-class">The <code class="codehilite">RandomGenerator</code> class</h2>
<p>The new <code class="codehilite">RandomGenerator</code> class now has more methods as shown above.  Its constructor now takes in a new parameter <span><span class="MathJax_Preview">\rho</span><script type="math/tex">\rho</script></span>.  The list of parameters are:</p>
<ul>
<li><code class="codehilite">int seed</code> is the base seed for the random number generators.  Each random number generator uses a different seed derived from this argument.</li>
<li><code class="codehilite">double lambda</code> is the arrival rate.</li>
<li><code class="codehilite">double mu</code> is the service rate.</li>
<li><code class="codehilite">double rho</code> is the resting rate.</li>
</ul>
<h2 id="grading">Grading</h2>
<p>This lab is graded and is worth 7% of your final grade.</p>
<ul>
<li>1 mark for proper javadoc documentation</li>
<li>2 marks for correctness</li>
<li>4 marks for proper use of OO concepts in modeling the complex shop, customer, and server behaviors.</li>
</ul>
<p>You no longer receive marks for following Java coding style, but you will be deducted up to 1 marks if you deviate significantly from the required coding style.</p>
<h2 id="input-and-output">Input and Output</h2>
<p>The input file format has changed.  The input file for Lab 2b contains the following:</p>
<ul>
<li>The first line is an integer, which is the base seed to the <code class="codehilite">RandomGenerator</code> object</li>
<li>The next line is an integer, which is the number of (human) servers</li>
<li>The next line is an integer, which is the number of self-checkout counters <span><span class="MathJax_Preview">N_{self}</span><script type="math/tex">N_{self}</script></span></li>
<li>The next line is an integer, which is the maximum queue length <span><span class="MathJax_Preview">Q_{max}</span><script type="math/tex">Q_{max}</script></span></li>
<li>The next line is an integer, which is the number of customers (i.e, the number of arrival events) to simulate</li>
<li>The next line is a double, which is the parameter <span><span class="MathJax_Preview">lambda</span><script type="math/tex">lambda</script></span></li>
<li>The next line is a double, which is the parameter <span><span class="MathJax_Preview">mu</span><script type="math/tex">mu</script></span></li>
<li>The next line is a double, which is the parameter <span><span class="MathJax_Preview">rho</span><script type="math/tex">rho</script></span></li>
<li>The next line is a double, which is the parameter <span><span class="MathJax_Preview">P_{r}</span><script type="math/tex">P_{r}</script></span></li>
<li>The next line is a double, which is the parameter <span><span class="MathJax_Preview">P_{g}</span><script type="math/tex">P_{g}</script></span></li>
<li>The last line is a double, which is the parameter <span><span class="MathJax_Preview">T_{self}</span><script type="math/tex">T_{self}</script></span></li>
</ul>
<p>Remember: you must not change the formatting of the <em>last line</em> of output:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&quot;%.3f %d %d%n&quot;</span><span class="o">,</span> <span class="o">..</span><span class="err">&quot;</span><span class="o">)</span>
</pre></div>
</td></tr></table></p>
<p>Given an input, the output might not be deterministic, since if two events occur at exactly the same time, we break the ties arbitrarily.  For this reason, we will only test your code with test inputs where no two events occur at exactly the same time.</p>
<p>The test cases and outputs<sup id="fnref:1"><a class="footnote-ref" href="#fn:1" rel="footnote">1</a></sup> should be:</p>
<table>
<thead>
<tr>
<th>Test</th>
<th>Output</th>
<th>Customer Types</th>
<th><span><span class="MathJax_Preview">Q_{max}</span><script type="math/tex">Q_{max}</script></span></th>
<th>Server Types</th>
<th>Can Human Server Rest?</th>
<th>Remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><code class="codehilite">0.706 4 1</code></td>
<td>Typical</td>
<td>1</td>
<td>Human</td>
<td>No</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td><code class="codehilite">1.042 3 1</code></td>
<td>Typical</td>
<td>&gt; 1</td>
<td>Human</td>
<td>No</td>
<td></td>
</tr>
<tr>
<td>3</td>
<td><code class="codehilite">0.679 4 0</code></td>
<td>Greedy</td>
<td>&gt; 1</td>
<td>Human</td>
<td>No</td>
<td></td>
</tr>
<tr>
<td>4</td>
<td><code class="codehilite">8.725 765 235</code></td>
<td>Mixed</td>
<td>&gt; 1</td>
<td>Human</td>
<td>No</td>
<td></td>
</tr>
<tr>
<td>5</td>
<td><code class="codehilite">0.706 4 1</code></td>
<td>Typical</td>
<td>1</td>
<td>Self-checkouts</td>
<td>No</td>
<td>Everyone uses self-checkouts</td>
</tr>
<tr>
<td>6</td>
<td><code class="codehilite">0 2 3</code></td>
<td>Typical</td>
<td>1</td>
<td>Self-checkouts</td>
<td>No</td>
<td></td>
</tr>
<tr>
<td>7</td>
<td><code class="codehilite">1.049 20 0</code></td>
<td>Mixed</td>
<td>&gt; 1</td>
<td>Mixed</td>
<td>No</td>
<td></td>
</tr>
<tr>
<td>8</td>
<td><code class="codehilite">5.299 867 133</code></td>
<td>Mixed</td>
<td>&gt; 1</td>
<td>Mixed</td>
<td>No</td>
<td>Based on Test 4</td>
</tr>
<tr>
<td>9</td>
<td><code class="codehilite">1.391 4 1</code></td>
<td>Typical</td>
<td>1</td>
<td>Human</td>
<td>Always</td>
<td>Based on Test 1</td>
</tr>
<tr>
<td>10</td>
<td><code class="codehilite">1.930 20 0</code></td>
<td>Mixed</td>
<td>&gt; 1</td>
<td>Mixed</td>
<td>Always</td>
<td>Based on Test 7</td>
</tr>
<tr>
<td>11</td>
<td><code class="codehilite">6.275 792 208</code></td>
<td>Mixed</td>
<td>&gt; 1</td>
<td>Mixed</td>
<td>Always</td>
<td>Based on Test 8</td>
</tr>
<tr>
<td>12</td>
<td><code class="codehilite">5.608 843 157</code></td>
<td>Mixed</td>
<td>&gt; 1</td>
<td>Mixed</td>
<td>Maybe</td>
<td>Based on Test 11</td>
</tr>
</tbody>
</table>
<p>We suggest that you implement the required additions one-by-one, and use the appropriate test cases above to verify that one addition is working before moving on to implement the next addition.  You can create additional test cases to help you debug.</p>
<p>To help you understand the relatively large number of test cases and parameters above, we have created an Excel spreadsheet, which you can find under <code class="codehilite">~cs2030/lab2b</code> as well.</p>
<p>As usual, producing the correct output for test cases above does not guarantee that your code is correct.</p>
<p>We have also included traces of the simulation for each of the test cases, which you can find in the files <code class="codehilite">OUTPUT1.txt</code> to <code class="codehilite">OUTPUT12.txt</code>.  This should help you debug should your output is different from ours.</p>
<div class="admonition tips">
<p class="admonition-title">Using <code class="codehilite">grep</code></p>
<p>If you want to focus on a particular server, say, <code class="codehilite">HS4</code>, or a customer, say, <code class="codehilite">GC180</code>, you can use the UNIX <code class="codehilite">grep</code> command to filter out lines containing them from a long output or traces.  E.g., 
    <table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>java lab2b.jar &lt; TESTDATA11.txt | grep HS4
</pre></div>
</td></tr></table>
    or
    <table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>grep CS180 OUTPUT12.txt
</pre></div>
</td></tr></table></p>
</div>
<h2 id="submission">Submission</h2>
<p>When you are ready to submit your lab, on <code class="codehilite">cs2030-i</code>, run the script
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>~cs2030/submit2b
</pre></div>
</td></tr></table></p>
<p>which will copy all files matching <code class="codehilite">*.java</code> (and nothing else) from your <code class="codehilite">~/lab2b/cs2030/simulator</code> directory on <code class="codehilite">cs2030-i</code> to an internal grading directory.  We will test compile and test run with a tiny sample input to make sure that your submission is OK.  We will also check if your code generates javadoc with any warning (should have no warning) and follows the CS2030 Java style guide.</p>
<p>You can submit multiple times, but only the most recent submission will be graded.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>After piping through <code class="codehilite">tail</code> (e.g., <code class="codehilite">jar -cp . lab2b.jar &lt; TESTDATA1.txt | tail -1</code>)&#160;<a class="footnote-backref" href="#fnref:1" rev="footnote" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../lab2a/index.html" title="2a. Simulator v1.2" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                2a. Simulator v1.2
              </span>
            </div>
          </a>
        
        
          <a href="../lab3/index.html" title="3.  Infinite List" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                3.  Infinite List
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright by Wei Tsang Ooi, Department of Computer Science, National University of Singapore 2018
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.a59e2a89.js"></script>
      
      <script>app.initialize({version:"0.17.5",url:{base:".."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
    
      
    
  </body>
</html>